<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Version 3.0 • quanteda</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Version 3.0"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-144616-24"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-144616-24');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quanteda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Quick Start
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/quickstart.html">Quick Start Guide</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_es.html">Guía de Inicio Rápido</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_cn.html">快速入门指南</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_ja.html">クイック・スタートガイド</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_hi.html">त्वरित आरंभ </a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Features
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pkgdown/comparison.html">Feature comparison</a>
    </li>
    <li>
      <a href="../articles/pkgdown/design.html">Package design</a>
    </li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pkgdown/examples/phrase.html">Multi-word expressions</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/plotting.html">Textual data visualization</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/lsa.html">Latent Semantic Analysis (LSA)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/chinese.html">Chinese text analysis</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/twitter.html">Social media analysis</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Replications
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pkgdown/replication/digital-humanities.html">Text Analysis with R for Students of Literature</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/text2vec.html">Word embedding (word2vec)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/qss.html">Quantitative Social Science Ch. 5.1</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/quanteda/quanteda" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small>3.0</small></h1>
      
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="3.0" id="quanteda-30">quanteda 3.0<a class="anchor" aria-label="anchor" href="#quanteda-30"></a></h2>
<p><strong>quanteda</strong> 3.0 is a major release that improves functionality, completes the modularisation of the package begun in v2.0, further improves function consistency by removing previously deprecated functions, and enhances workflow stability and consistency by deprecating some shortcut steps built into some functions.</p>
<div class="section level3">
<h3 id="changes-and-additions-3-0">Changes and additions<a class="anchor" aria-label="anchor" href="#changes-and-additions-3-0"></a></h3>
<ul><li><p>Modularisation: We have now separated the <code>textplot_*()</code> functions from the main package into a separate package <strong>quanteda.textplots</strong>, and the <code>textstat_*()</code> functions from the main package into a separate package <strong>quanteda.textstats</strong>. This completes the modularisation begun in v2 with the move of the <code>textmodel_*()</code> functions to the separate package <strong>quanteda.textmodels</strong>. <strong>quanteda</strong> now consists of core functions for textual data processing and management.</p></li>
<li><p>The package dependency structure is now greatly reduced, by eliminating some unnecessary package dependencies, through modularisation, and by addressing complex downstream dependencies in packages such as <strong>stopwords</strong>. v3 should serve as a more lightweight and more consistent platform for other text analysis packages to build on.</p></li>
<li>
<p>We have added non-standard evaluation for <code>by</code> and <code>groups</code> arguments to access object docvars:</p>
<ul><li>The <code>*_sample()</code> functions’ argument <code>by</code>, and <code>groups</code> in the <code>*_group()</code> functions, now take unquoted document variable (docvar) names directly, similar to the way the <code>subset</code> argument works in the <code>*_subset()</code> functions.</li>
<li>Quoted docvar names no longer work, as these will be evaluated literally.</li>
<li>The <code>by = "document"</code> formerly sampled from <code>docid(x)</code>, but this functionality is now removed. Instead, use <code>by = docid(x)</code> to replicate this functionality.</li>
<li>For <code>groups</code>, the default is now <code>docid(x)</code>, which is now documented more completely. See <code><a href="../reference/groups.html">?groups</a></code> and <code><a href="../reference/docnames.html">?docid</a></code>.</li>
</ul></li>
<li><p><code><a href="../reference/dfm.html">dfm()</a></code> has a new argument, <code>remove_padding</code>, for removing the “pads” left behind after removing tokens with <code>padding = TRUE</code>. (For other extensive changes to <code><a href="../reference/dfm.html">dfm()</a></code>, see “Deprecated” below.)</p></li>
<li><p><code><a href="../reference/tokens_group.html">tokens_group()</a></code>, formerly internal-only, is now exported.</p></li>
<li><p><code><a href="../reference/corpus_sample.html">corpus_sample()</a></code>, <code><a href="../reference/dfm_sample.html">dfm_sample()</a></code>, and <code><a href="../reference/tokens_sample.html">tokens_sample()</a></code> now work consistently (<a href="https://github.com/quanteda/quanteda/issues/2023" class="external-link">#2023</a>).</p></li>
<li><p>The <code><a href="../reference/kwic.html">kwic()</a></code> return object structure has been redefined, and built with an option to use a new function <code><a href="../reference/index.html">index()</a></code> that returns token spans following a pattern search. (<a href="https://github.com/quanteda/quanteda/issues/2045" class="external-link">#2045</a> and <a href="https://github.com/quanteda/quanteda/issues/2065" class="external-link">#2065</a>)</p></li>
<li><p>The punctuation regular expression and that for matching social media usernames has now been redefined so that the valid Twitter username <code>@_</code> is now counted as a “tag” rather than as “punctuation”. (<a href="https://github.com/quanteda/quanteda/issues/2049" class="external-link">#2049</a>)</p></li>
<li><p>The data object <code>data_corpus_inaugural</code> has been updated to include the Biden 2021 inaugural address.</p></li>
<li><p>A new system of validators for input types now provides better argument type and value checking, with more consistent error messages for invalid types or values.</p></li>
<li><p>Upon startup, we now message the console with the Unicode and ICU version information. Because we removed our redefinition of <code><a href="https://rdrr.io/r/utils/View.html" class="external-link">View()</a></code> (see below), the former conflict warning is now gone.</p></li>
<li><p><code><a href="../reference/as.character.corpus.html">as.character.corpus()</a></code> now has a <code>use.names = TRUE</code> argument, similar to <code><a href="../reference/as.tokens.html">as.character.tokens()</a></code> (but with a different default value).</p></li>
</ul></div>
<div class="section level3">
<h3 id="deprecations-3-0">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-3-0"></a></h3>
<p>The main potentially breaking changes in version 3 relate to the deprecation or elimination of shortcut steps that allowed functions that required tokens inputs to skip the tokens creation step. We did this to require users to take more direct control of tokenization options, or to substitute the alternative tokeniser of their choice (and then coercing it to tokens via [as.tokens()]). This also allows our function behaviour to be more consistent, with each function performing a single task, rather than combining functions (such as tokenisation <em>and</em> constructing a matrix).</p>
<p>The most common example involves constructing a dfm directly from a character or corpus object. Formerly, this would construct a tokens object internally before creating the dfm, and allowed passing arguments to <code><a href="../reference/tokens.html">tokens()</a></code> via <code>...</code>. This is now deprecated, although still functional with a warning.</p>
<p>We strongly encourage either creating a tokens object first, or piping the tokens return to <code><a href="../reference/dfm.html">dfm()</a></code> using <code>%&gt;%</code>. (See examples below.)</p>
<p>We have also deprecated direct character or corpus inputs to [kwic()], since this also requires a tokenised input.</p>
<p>The full listing of deprecations is:</p>
<ul><li><p><code>dfm.character()</code> and <code>dfm.corpus()</code> are deprecated. Users should create a tokens object first, and input that to <code><a href="../reference/dfm.html">dfm()</a></code>.</p></li>
<li><p><code><a href="../reference/dfm.html">dfm()</a></code>: As of version 3, only tokens objects are supported as inputs to <code><a href="../reference/dfm.html">dfm()</a></code>. Calling <code><a href="../reference/dfm.html">dfm()</a></code> for character or corpus objects is still functional, but issues a warning. Convenience passing of arguments to <code><a href="../reference/tokens.html">tokens()</a></code> via <code>...</code> for <code><a href="../reference/dfm.html">dfm()</a></code> is also deprecated, but undocumented, and functions only with a warning. Users should now create a tokens object (using <code><a href="../reference/tokens.html">tokens()</a></code> from character or corpus inputs before calling <code><a href="../reference/dfm.html">dfm()</a></code>.</p></li>
<li><p><code><a href="../reference/kwic.html">kwic()</a></code>: As of version 3, only tokens objects are supported as inputs to <code><a href="../reference/kwic.html">kwic()</a></code>. Calling <code><a href="../reference/kwic.html">kwic()</a></code> for character or corpus objects is still functional, but issues a warning. Passing arguments to <code><a href="../reference/tokens.html">tokens()</a></code> via <code>...</code> in <code><a href="../reference/kwic.html">kwic()</a></code> is now disabled. Users should now create a tokens object (using <code><a href="../reference/tokens.html">tokens()</a></code> from character or corpus inputs before calling <code><a href="../reference/kwic.html">kwic()</a></code>.</p></li>
<li>
<p>Shortcut arguments to <code><a href="../reference/dfm.html">dfm()</a></code> are now deprecated. These are still active, with a warning, although they are no longer documented. These are:</p>
<ul><li>
<code>stem</code> – use <code><a href="../reference/tokens_wordstem.html">tokens_wordstem()</a></code> or <code><a href="../reference/tokens_wordstem.html">dfm_wordstem()</a></code> instead.</li>
<li>
<code>select</code>, <code>remove</code> – use <code><a href="../reference/tokens_select.html">tokens_select()</a></code> / <code><a href="../reference/dfm_select.html">dfm_select()</a></code> or <code><a href="../reference/tokens_select.html">tokens_remove()</a></code> / <code><a href="../reference/dfm_select.html">dfm_remove()</a></code> instead.</li>
<li>
<code>dictionary</code>, <code>thesaurus</code> – use <code><a href="../reference/tokens_lookup.html">tokens_lookup()</a></code> or <code><a href="../reference/dfm_lookup.html">dfm_lookup()</a></code> instead.</li>
<li>
<code>valuetype</code>, <code>case_insensitive</code> – these are disabled; for the deprecated arguments that take these qualifiers, they are fixed to the defaults <code>"glob"</code> and <code>TRUE</code>.</li>
<li>
<code>groups</code> – use <code><a href="../reference/tokens_group.html">tokens_group()</a></code> or <code><a href="../reference/dfm_group.html">dfm_group()</a></code> instead.</li>
</ul></li>
<li>
<p><code><a href="../reference/texts.html">texts()</a></code> and <code>texts&lt;-</code> are deprecated.</p>
<ul><li>Use <code><a href="../reference/as.character.corpus.html">as.character.corpus()</a></code> to turn a corpus into a simple named character vector.</li>
<li>Use <code><a href="../reference/corpus_group.html">corpus_group()</a></code> instead of <code>texts(x, groups = ...)</code> to aggregate texts by a grouping variable.</li>
<li>Use <code>[&lt;-</code> instead of <code>texts()&lt;-</code> for replacing texts in a corpus object.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="removals-3-0">Removals<a class="anchor" aria-label="anchor" href="#removals-3-0"></a></h3>
<ul><li><p>See note above under “Changes” about the <code>textplot_*()</code> and <code>textstat_*()</code> functions.</p></li>
<li>
<p>The following functions have been removed:</p>
<ul><li>all methods for defunct <code>corpuszip</code> objects.</li>
<li>
<code><a href="https://rdrr.io/r/utils/View.html" class="external-link">View()</a></code> functions</li>
<li>
<code>as.wfm()</code> and <code>as.DocumentTermMatrix()</code> (the same functionality is available via <code><a href="../reference/convert.html">convert()</a></code>)</li>
<li>
<code>metadoc()</code> and <code>metacorpus()</code>
</li>
<li>
<code>corpus_trimsentences()</code> (replaced by <code><a href="../reference/corpus_trim.html">corpus_trim()</a></code>)</li>
<li>all of the <code>tortl</code> functions</li>
<li>all legacy functions related to the ancient “corpuszip” corpus variant.</li>
</ul></li>
<li><p><code>dfm</code> objects can no longer be used as a <code>pattern</code> in <code><a href="../reference/dfm_select.html">dfm_select()</a></code> (formerly deprecated).</p></li>
<li>
<p><code><a href="../reference/dfm_sample.html">dfm_sample()</a></code>:</p>
<ul><li>no longer has a <code>margin</code> argument. Instead, <code><a href="../reference/dfm_sample.html">dfm_sample()</a></code> now samples only on documents, the same as <code><a href="../reference/corpus_sample.html">corpus_sample()</a></code> and <code><a href="../reference/tokens_sample.html">tokens_sample()</a></code>; and</li>
<li>no longer works with <code>by = "document"</code> – use <code>by = docid(x)</code> instead.</li>
</ul></li>
<li><p><code>dictionary_edit()</code>, <code>char_edit()</code>, and <code>list_edit()</code> are removed.</p></li>
<li><p><code><a href="../reference/dfm_weight.html">dfm_weight()</a></code> - formerly deprecated <code>"scheme"</code> options are now removed.</p></li>
<li><p><code><a href="../reference/tokens.html">tokens()</a></code> - formerly deprecated options <code>remove_hyphens</code> and <code>remove_twitter</code> are now removed. (Use <code>split_hyphens</code> instead, and the default tokenizer always now preserves Twitter and other social media tags.)</p></li>
<li><p>Special versions of <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">head()</a></code> and <code><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail()</a></code> for corpus, dfm, and fcm objects are now removed, since the base methods work fine for these objects. The main consequence was the removal of the <code>nf</code> option from the methods for dfm and fcm objects, which limited the number of features. This can be accomplished using the index operator <code>[</code> instead, or for printing, by specifying <code>print(x, max_nfeat = 6L)</code> (for instance).</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-and-stability-enhancements-3-0">Bug fixes and stability enhancements<a class="anchor" aria-label="anchor" href="#bug-fixes-and-stability-enhancements-3-0"></a></h3>
<ul><li><p>Fixed a bug causing <code>topfeatures(x, group = something)</code> to fail with weighted dfms (<a href="https://github.com/quanteda/quanteda/issues/2032" class="external-link">#2032</a>).</p></li>
<li><p><code><a href="../reference/kwic.html">kwic()</a></code> is more stable and does not crash when a vector is supplied as the <code>window</code> argument (<a href="https://github.com/quanteda/quanteda/issues/2008" class="external-link">#2008</a>).</p></li>
<li><p>Allow use of multi-threading with more than two threads by fixing <code><a href="../reference/quanteda_options.html">quanteda_options()</a></code>.</p></li>
<li><p>Mentions of the now-removed <code>ngrams</code> option in <code>dfm(x, ...)</code> has now been removed from the dfm documentation. (<a href="https://github.com/quanteda/quanteda/issues/1990" class="external-link">#1990</a>)</p></li>
<li><p>Handling for some early-cycle v2 dfm object is improved, to ensure that they are updated to the latest object format. (<a href="https://github.com/quanteda/quanteda/issues/2097" class="external-link">#2097</a>)</p></li>
</ul></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kenneth Benoit, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng, Stefan Müller, Akitaka Matsuo, William Lowe, European Research Council.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '9b4ef7fd791dc6075154d3ebd7b12acf',
    indexName: 'quanteda',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

