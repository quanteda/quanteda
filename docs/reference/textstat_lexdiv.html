<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>calculate lexical diversity — textstat_lexdiv • quanteda</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-144616-24', 'auto');
  ga('send', 'pageview');

</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Overview</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/quickstart.html">Quick Start</a>
</li>
<li>
  <a href="../articles/comparison.html">Features</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/examples/lsa.html">Latent Semantic Analysis (LSA)</a>
    </li>
    <li>
      <a href="../articles/examples/text2vec.html">Word embedding (word2vec)</a>
    </li>
    <li>
      <a href="../articles/examples/plotting.html">Textual data visualization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Replication
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/replication/digital-humanities.html">Text Analysis with R for Students of Literature</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/design.html">Design</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kbenoit/quanteda">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>calculate lexical diversity</h1>
    </div>

    
    <p>Calculate the lexical diversity or complexity of text(s).</p>
    

    <pre class="usage"><span class='fu'>textstat_lexdiv</span>(<span class='no'>x</span>, <span class='kw'>measure</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"all"</span>, <span class='st'>"TTR"</span>, <span class='st'>"C"</span>, <span class='st'>"R"</span>, <span class='st'>"CTTR"</span>, <span class='st'>"U"</span>, <span class='st'>"S"</span>,
  <span class='st'>"Maas"</span>), <span class='kw'>log.base</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an input object, such as a <a href='dfm.html'>document-feature matrix</a>
object</p></td>
    </tr>
    <tr>
      <th>measure</th>
      <td><p>a character vector defining the measure to calculate.</p></td>
    </tr>
    <tr>
      <th>log.base</th>
      <td><p>a numeric value defining the base of the logarithm (for
measures using logs)</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>if <code>TRUE</code>, the result is returned as a numeric vector if 
only a single measure is requested; otherwise, a data.frame is returned 
with each column consisting of a requested measure.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>not used</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.frame or vector of lexical diversity statistics, each row or
  vector element corresponding to an input document</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>textstat_lexdiv</code> calculates a variety of proposed indices for lexical
  diversity. In the following formulae, \(N\) refers to the total number of
  tokens, and \(V\) to the number of types:</p><dl class='dl-horizontal'>
    <dt><code>"TTR"</code>:</dt><dd><p>The ordinary <em>Type-Token Ratio</em>: $$TTR =
  \frac{V}{N}$$</p></dd>
    <dt><code>"C"</code>:</dt><dd><p>Herdan's <em>C</em> (Herdan, 1960, as cited in Tweedie &amp; 
  Baayen, 1998; sometimes referred to as <em>LogTTR</em>): $$C = 
  \frac{\log{V}}{\log{N}}$$</p></dd>
    <dt><code>"R"</code>:</dt><dd><p>Guiraud's <em>Root TTR</em> (Guiraud, 1954, as cited in 
  Tweedie &amp; Baayen, 1998): $$R = \frac{V}{\sqrt{N}}$$</p></dd>
    <dt><code>"CTTR"</code>:</dt><dd><p>Carroll's <em>Corrected TTR</em>: $$CTTR = 
  \frac{V}{\sqrt{2N}}$$</p></dd>
    <dt><code>"U"</code>:</dt><dd><p>Dugast's <em>Uber Index</em>  (Dugast, 1978, as cited in 
  Tweedie &amp; Baayen, 1998): $$U = \frac{(\log{N})^2}{\log{N} - \log{V}}$$</p></dd>
    <dt><code>"S"</code>:</dt><dd><p>Summer's index: $$S = 
  \frac{\log{\log{V}}}{\log{\log{N}}}$$</p></dd>
    <dt><code>"K"</code>:</dt><dd><p>Yule's <em>K</em>  (Yule, 1944, as cited in Tweedie &amp;
  Baayen, 1998) is calculated by: $$K = 10^4 \times
  \frac{(\sum_{X=1}^{X}{{f_X}X^2}) - N}{N^2}$$ where \(N\) is the number of tokens, \(X\) is a vector with the
  frequencies of each type, and \(f_X\) is the frequencies for each X.</p></dd>
    <dt><code>"Maas"</code>:</dt><dd><p>Maas' indices (\(a\), \(\log{V_0}\) &amp; 
  \(\log{}_{e}{V_0}\)): $$a^2 = \frac{\log{N} -
  \log{V}}{\log{N}^2}$$ $$\log{V_0} =
  \frac{\log{V}}{\sqrt{1 - \frac{\log{V}}{\log{N}}^2}}$$ The measure was derived from a formula by
  Mueller (1969, as cited in Maas, 1972). \(\log{}_{e}{V_0}\) is equivalent
  to \(\log{V_0}\), only with \(e\) as the base for the logarithms. Also
  calculated are \(a\), \(\log{V_0}\) (both not the same as before) and
  \(V'\) as measures of relative vocabulary growth while the text
  progresses. To calculate these measures, the first half of the text and the
  full text will be examined (see Maas, 1972, p. 67 ff. for details).  Note:
  for the current method (for a dfm) there is no computation on separate
  halves of the text.</p></dd>
    </dl>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This implements only the static measures of lexical diversity, not more
  complex measures based on windows of text such as the Mean Segmental
  Type-Token Ratio, the Moving-Average Type-Token Ratio (Covington &amp; McFall,
  2010), the MLTD or MLTD-MA (Moving-Average Measure of Textual Lexical
  Diversity) proposed by McCarthy &amp; Jarvis (2010) or Jarvis (no year), or the
  HD-D version of vocd-D (see McCarthy &amp; Jarvis, 2007).  These are available
  from the package <span class="pkg">korRpus</span>.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Covington, M.A. &amp; McFall, J.D. (2010). Cutting the Gordian Knot: 
  The Moving-Average Type-Token Ratio (MATTR). <em>Journal of Quantitative 
  Linguistics</em>, 17(2), 94--100.</p>  
<p>Maas, H.-D., (1972). \"Uber den Zusammenhang zwischen Wortschatzumfang und 
  L\"ange eines Textes. <em>Zeitschrift f\"ur Literaturwissenschaft und 
  Linguistik</em>, 2(8), 73--96.</p>  
<p>McCarthy, P.M. &amp; Jarvis, S. (2007). vocd: A theoretical and empirical 
  evaluation. <em>Language Testing</em>, 24(4), 459--488.</p>  
<p>McCarthy, P.M. &amp; Jarvis, S. (2010). MTLD, vocd-D, and HD-D: A validation 
  study of sophisticated approaches to lexical diversity assessment. 
  <em>Behaviour Research Methods</em>, 42(2), 381--392.</p>  
<p>Michalke, Meik.  (2014) <em>koRpus: An R Package for Text Analysis</em>. 
  Version 0.05-5. <a href='http://reaktanz.de/?c=hacking&amp;s=koRpus'>http://reaktanz.de/?c=hacking&amp;s=koRpus</a></p>  
<p>Tweedie. F.J. &amp; Baayen, R.H. (1998). How Variable May a Constant Be? 
  Measures of Lexical Richness in Perspective. <em>Computers and the 
  Humanities</em>, 32(5), 323--352.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>mydfm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dfm.html'>dfm</a></span>(<span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='no'>data_corpus_inaugural</span>, <span class='no'>Year</span> <span class='kw'>&gt;</span> <span class='fl'>1980</span>), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
(<span class='no'>results</span> <span class='kw'>&lt;-</span> <span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='fu'>c</span>(<span class='st'>"CTTR"</span>, <span class='st'>"TTR"</span>, <span class='st'>"U"</span>)))</div><div class='output co'>#&gt;                   CTTR       TTR        U
#&gt; 1981-Reagan  11.378940 0.3046595 22.99986
#&gt; 1985-Reagan  11.461022 0.2998973 22.96229
#&gt; 1989-Bush    10.324247 0.2819843 21.37823
#&gt; 1993-Clinton  9.992155 0.3300600 22.11897
#&gt; 1997-Clinton 10.373546 0.2964475 21.75021
#&gt; 2001-Bush     9.844814 0.3274336 21.88049
#&gt; 2005-Bush    10.792498 0.3169470 22.69528
#&gt; 2009-Obama   12.222576 0.3319808 24.61202
#&gt; 2013-Obama   11.546345 0.3392318 24.11639
#&gt; 2017-Trump    9.493324 0.3295181 21.50726</div><div class='input'><span class='fu'>cor</span>(<span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='st'>"all"</span>))</div><div class='output co'>#&gt;               TTR          C           R        CTTR          U          S
#&gt; TTR    1.00000000  0.8718973  0.04870698  0.04870698  0.4574744  0.5625226
#&gt; C      0.87189735  1.0000000  0.53081068  0.53081068  0.8331756  0.8951709
#&gt; R      0.04870698  0.5308107  1.00000000  1.00000000  0.9097523  0.8520574
#&gt; CTTR   0.04870698  0.5308107  1.00000000  1.00000000  0.9097523  0.8520574
#&gt; U      0.45747444  0.8331756  0.90975232  0.90975232  1.0000000  0.9915124
#&gt; S      0.56252261  0.8951709  0.85205745  0.85205745  0.9915124  1.0000000
#&gt; Maas  -0.45448662 -0.8320582 -0.91102148 -0.91102148 -0.9995375 -0.9919846
#&gt; lgV0   0.23953222  0.6835092  0.98095778  0.98095778  0.9728109  0.9368443
#&gt; lgeV0  0.23953222  0.6835092  0.98095778  0.98095778  0.9728109  0.9368443
#&gt;             Maas       lgV0      lgeV0
#&gt; TTR   -0.4544866  0.2395322  0.2395322
#&gt; C     -0.8320582  0.6835092  0.6835092
#&gt; R     -0.9110215  0.9809578  0.9809578
#&gt; CTTR  -0.9110215  0.9809578  0.9809578
#&gt; U     -0.9995375  0.9728109  0.9728109
#&gt; S     -0.9919846  0.9368443  0.9368443
#&gt; Maas   1.0000000 -0.9734910 -0.9734910
#&gt; lgV0  -0.9734910  1.0000000  1.0000000
#&gt; lgeV0 -0.9734910  1.0000000  1.0000000</div><div class='input'>
<span class='co'># with different settings of drop</span>
<span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='st'>"TTR"</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;  1981-Reagan  1985-Reagan    1989-Bush 1993-Clinton 1997-Clinton    2001-Bush 
#&gt;    0.3046595    0.2998973    0.2819843    0.3300600    0.2964475    0.3274336 
#&gt;    2005-Bush   2009-Obama   2013-Obama   2017-Trump 
#&gt;    0.3169470    0.3319808    0.3392318    0.3295181 </div><div class='input'><span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='st'>"TTR"</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;                    TTR
#&gt; 1981-Reagan  0.3046595
#&gt; 1985-Reagan  0.2998973
#&gt; 1989-Bush    0.2819843
#&gt; 1993-Clinton 0.3300600
#&gt; 1997-Clinton 0.2964475
#&gt; 2001-Bush    0.3274336
#&gt; 2005-Bush    0.3169470
#&gt; 2009-Obama   0.3319808
#&gt; 2013-Obama   0.3392318
#&gt; 2017-Trump   0.3295181</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Kenneth Benoit, adapted from the S4 class implementation written by 
  Meik Michalke in the <span class="pkg">koRpus</span> package.

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
