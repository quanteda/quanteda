<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>calculate lexical diversity — textstat_lexdiv • quanteda</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">quanteda</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>calculate lexical diversity</h1>
    </div>

    
    <p>Calculate the lexical diversity or complexity of text(s).</p>
    

    <pre><span class='fu'>textstat_lexdiv</span>(<span class='no'>x</span>, <span class='kw'>measure</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"all"</span>, <span class='st'>"TTR"</span>, <span class='st'>"C"</span>, <span class='st'>"R"</span>, <span class='st'>"CTTR"</span>, <span class='st'>"U"</span>, <span class='st'>"S"</span>,
  <span class='st'>"Maas"</span>), <span class='kw'>log.base</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd>an input object, such as a <a href='dfm.html'>document-feature matrix</a>
object</dd>
      <dt>measure</dt>
      <dd>a character vector defining the measure to calculate.</dd>
      <dt>log.base</dt>
      <dd>a numeric value defining the base of the logarithm (for
measures using logs)</dd>
      <dt>drop</dt>
      <dd>if <code>TRUE</code>, the result is returned as a numeric vector if 
only a single measure is requested; otherwise, a data.frame is returned 
with each column consisting of a requested measure.</dd>
      <dt>...</dt>
      <dd>not used</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.frame or vector of lexical diversity statistics, each row or
  vector element corresponding to an input document</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>textstat_lexdiv</code> calculates a variety of proposed indices for lexical
  diversity. In the following formulae, \(N\) refers to the total number of
  tokens, and \(V\) to the number of types: <dl class='dl-horizontal'></p>
    <p><dt><code>&quot;TTR&quot;</code>:</dt><dd>The ordinary <em>Type-Token Ratio</em>: $$TTR =
  \frac{V}{N}$$</dd></p>
    <p><dt><code>&quot;C&quot;</code>:</dt><dd>Herdan&#39;s <em>C</em> (Herdan, 1960, as cited in Tweedie &amp; 
  Baayen, 1998; sometimes referred to as <em>LogTTR</em>): $$C = 
  \frac{\log{V}}{\log{N}}$$</dd></p>
    <p><dt><code>&quot;R&quot;</code>:</dt><dd>Guiraud&#39;s <em>Root TTR</em> (Guiraud, 1954, as cited in 
  Tweedie &amp; Baayen, 1998): $$R = \frac{V}{\sqrt{N}}$$</dd></p>
    <p><dt><code>&quot;CTTR&quot;</code>:</dt><dd>Carroll&#39;s <em>Corrected TTR</em>: $$CTTR = 
  \frac{V}{\sqrt{2N}}$$</dd></p>
    <p><dt><code>&quot;U&quot;</code>:</dt><dd>Dugast&#39;s <em>Uber Index</em>  (Dugast, 1978, as cited in 
  Tweedie &amp; Baayen, 1998): $$U = \frac{(\log{N})^2}{\log{N} - \log{V}}$$</dd></p>
    <p><dt><code>&quot;S&quot;</code>:</dt><dd>Summer&#39;s index: $$S = 
  \frac{\log{\log{V}}}{\log{\log{N}}}$$</dd></p>
    <p><dt><code>&quot;K&quot;</code>:</dt><dd>Yule&#39;s <em>K</em>  (Yule, 1944, as cited in Tweedie &amp;
  Baayen, 1998) is calculated by: $$K = 10^4 \times
  \frac{(\sum_{X=1}^{X}{{f_X}X^2}) - N}{N^2}$$ where \(N\) is the number of tokens, \(X\) is a vector with the
  frequencies of each type, and \(f_X\) is the frequencies for each X.</dd></p>
    <p><dt><code>&quot;Maas&quot;</code>:</dt><dd>Maas&#39; indices (\(a\), \(\log{V_0}\) &amp; 
  \(\log{}_{e}{V_0}\)): $$a^2 = \frac{\log{N} -
  \log{V}}{\log{N}^2}$$ $$\log{V_0} =
  \frac{\log{V}}{\sqrt{1 - \frac{\log{V}}{\log{N}}^2}}$$ The measure was derived from a formula by
  Mueller (1969, as cited in Maas, 1972). \(\log{}_{e}{V_0}\) is equivalent
  to \(\log{V_0}\), only with \(e\) as the base for the logarithms. Also
  calculated are \(a\), \(\log{V_0}\) (both not the same as before) and
  \(V&#39;\) as measures of relative vocabulary growth while the text
  progresses. To calculate these measures, the first half of the text and the
  full text will be examined (see Maas, 1972, p. 67 ff. for details).  Note:
  for the current method (for a dfm) there is no computation on separate
  halves of the text.</dd></p>
    <p></dl></p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This implements only the static measures of lexical diversity, not more
  complex measures based on windows of text such as the Mean Segmental
  Type-Token Ratio, the Moving-Average Type-Token Ratio (Covington &amp; McFall,
  2010), the MLTD or MLTD-MA (Moving-Average Measure of Textual Lexical
  Diversity) proposed by McCarthy &amp; Jarvis (2010) or Jarvis (no year), or the
  HD-D version of vocd-D (see McCarthy &amp; Jarvis, 2007).  These are available
  from the package <span class="pkg">korRpus</span>.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Covington, M.A. &amp; McFall, J.D. (2010). Cutting the Gordian Knot: 
  The Moving-Average Type-Token Ratio (MATTR). <em>Journal of Quantitative 
  Linguistics</em>, 17(2), 94--100.</p>
    <p>Maas, H.-D., (1972). \&quot;Uber den Zusammenhang zwischen Wortschatzumfang und 
  L\&quot;ange eines Textes. <em>Zeitschrift f\&quot;ur Literaturwissenschaft und 
  Linguistik</em>, 2(8), 73--96.</p>
    <p>McCarthy, P.M. &amp; Jarvis, S. (2007). vocd: A theoretical and empirical 
  evaluation. <em>Language Testing</em>, 24(4), 459--488.</p>
    <p>McCarthy, P.M. &amp; Jarvis, S. (2010). MTLD, vocd-D, and HD-D: A validation 
  study of sophisticated approaces to lexical diversity assessment. 
  <em>Behaviour Research Methods</em>, 42(2), 381--392.</p>
    <p>Michalke, Meik.  (2014) <em>koRpus: An R Package for Text Analysis</em>. 
  Version 0.05-5. <a href = 'http://reaktanz.de/?c=hacking&amp;s=koRpus'>http://reaktanz.de/?c=hacking&amp;s=koRpus</a></p>
    <p>Tweedie. F.J. &amp; Baayen, R.H. (1998). How Variable May a Constant Be? 
  Measures of Lexical Richness in Perspective. <em>Computers and the 
  Humanities</em>, 32(5), 323--352.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>mydfm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dfm.html'>dfm</a></span>(<span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='no'>data_corpus_inaugural</span>, <span class='no'>Year</span> <span class='kw'>&gt;</span> <span class='fl'>1980</span>), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
(<span class='no'>results</span> <span class='kw'>&lt;-</span> <span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='fu'>c</span>(<span class='st'>"CTTR"</span>, <span class='st'>"TTR"</span>, <span class='st'>"U"</span>)))</div><div class='output co'>#&gt;                  CTTR      TTR          U
#&gt; 1981-Reagan  43.29842 1.157613 -186.91243
#&gt; 1985-Reagan  42.27581 1.103578 -280.92307
#&gt; 1989-Bush    44.21663 1.207231 -143.72662
#&gt; 1993-Clinton 53.43691 1.763201  -43.25754
#&gt; 1997-Clinton 46.26199 1.321501  -94.88620
#&gt; 2001-Bush    53.83400 1.789503  -41.99094
#&gt; 2005-Bush    47.49900 1.393118  -78.70659
#&gt; 2009-Obama   43.84239 1.186882 -158.66860
#&gt; 2013-Obama   47.39718 1.387152  -79.82713
#&gt; 2017-Trump   56.17983 1.948857  -35.79428</div><div class='input'><span class='fu'>cor</span>(<span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='st'>"all"</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: NaNs produced</span></div><div class='output co'>#&gt; <span class='warning'>Warning: NaNs produced</span></div><div class='output co'>#&gt; <span class='warning'>Warning: NaNs produced</span></div><div class='output co'>#&gt;             TTR         C         R      CTTR         U         S Maas lgV0
#&gt; TTR   1.0000000 0.9987134 0.9994190 0.9994190 0.8356166 0.9989957   NA   NA
#&gt; C     0.9987134 1.0000000 0.9998613 0.9998613 0.8594013 0.9999825   NA   NA
#&gt; R     0.9994190 0.9998613 1.0000000 1.0000000 0.8517330 0.9999423   NA   NA
#&gt; CTTR  0.9994190 0.9998613 1.0000000 1.0000000 0.8517330 0.9999423   NA   NA
#&gt; U     0.8356166 0.8594013 0.8517330 0.8517330 1.0000000 0.8567293   NA   NA
#&gt; S     0.9989957 0.9999825 0.9999423 0.9999423 0.8567293 1.0000000   NA   NA
#&gt; Maas         NA        NA        NA        NA        NA        NA    1   NA
#&gt; lgV0         NA        NA        NA        NA        NA        NA   NA    1
#&gt; lgeV0        NA        NA        NA        NA        NA        NA   NA   NA
#&gt;       lgeV0
#&gt; TTR      NA
#&gt; C        NA
#&gt; R        NA
#&gt; CTTR     NA
#&gt; U        NA
#&gt; S        NA
#&gt; Maas     NA
#&gt; lgV0     NA
#&gt; lgeV0     1</div><div class='input'>
<span class='co'># with different settings of drop</span>
<span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='st'>"TTR"</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;  1981-Reagan  1985-Reagan    1989-Bush 1993-Clinton 1997-Clinton    2001-Bush 
#&gt;     1.157613     1.103578     1.207231     1.763201     1.321501     1.789503 
#&gt;    2005-Bush   2009-Obama   2013-Obama   2017-Trump 
#&gt;     1.393118     1.186882     1.387152     1.948857 </div><div class='input'><span class='fu'>textstat_lexdiv</span>(<span class='no'>mydfm</span>, <span class='st'>"TTR"</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;                   TTR
#&gt; 1981-Reagan  1.157613
#&gt; 1985-Reagan  1.103578
#&gt; 1989-Bush    1.207231
#&gt; 1993-Clinton 1.763201
#&gt; 1997-Clinton 1.321501
#&gt; 2001-Bush    1.789503
#&gt; 2005-Bush    1.393118
#&gt; 2009-Obama   1.186882
#&gt; 2013-Obama   1.387152
#&gt; 2017-Trump   1.948857</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Kenneth Benoit, adapted from the S4 class implementation written by 
  Meik Michalke in the <span class="pkg">koRpus</span> package.

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
