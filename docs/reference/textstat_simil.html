<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Similarity and distance computation between documents or features — textstat_simil • quanteda</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>
<meta property="og:title" content="Similarity and distance computation between documents or features — textstat_simil" />

<meta property="og:description" content="These functions compute matrixes of distances and similarities between
documents or features from a dfm and return a
dist object (or a matrix if specific targets are
selected).  They are fast and robust because they operate directly on the
sparse dfm objects." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144616-24"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-144616-24');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quanteda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Quick Start
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/quickstart.html">Quick Start Guide</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_es.html">Guía de Inicio Rápido</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_cn.html">快速入门指南</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_ja.html">クイック・スタートガイド</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Features
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/comparison.html">Feature comparison</a>
    </li>
    <li>
      <a href="../articles/pkgdown/design.html">Package design</a>
    </li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/examples/phrase.html">Multi-word expressions</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/plotting.html">Textual data visualization</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/lsa.html">Latent Semantic Analysis (LSA)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/chinese.html">Chinese text analysis</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/twitter.html">Social media analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Replications
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/replication/digital-humanities.html">Text Analysis with R for Students of Literature</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/text2vec.html">Word embedding (word2vec)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/qss.html">Quantitative Social Science Ch. 5.1</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/quanteda/quanteda">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Similarity and distance computation between documents or features</h1>
    
    <div class="hidden name"><code>textstat_simil.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>These functions compute matrixes of distances and similarities between
documents or features from a <code><a href='dfm.html'>dfm</a></code> and return a
<code><a href='https://www.rdocumentation.org/packages/stats/topics/dist'>dist</a></code> object (or a matrix if specific targets are
selected).  They are fast and robust because they operate directly on the
sparse <a href='dfm.html'>dfm</a> objects.</p>
    
    </div>

    <pre class="usage"><span class='fu'>textstat_simil</span>(<span class='no'>x</span>, <span class='kw'>selection</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"documents"</span>,
  <span class='st'>"features"</span>), <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"correlation"</span>, <span class='st'>"cosine"</span>, <span class='st'>"jaccard"</span>, <span class='st'>"ejaccard"</span>,
  <span class='st'>"dice"</span>, <span class='st'>"edice"</span>, <span class='st'>"hamman"</span>, <span class='st'>"simple matching"</span>, <span class='st'>"faith"</span>), <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>diag</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>textstat_dist</span>(<span class='no'>x</span>, <span class='kw'>selection</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"documents"</span>, <span class='st'>"features"</span>),
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"euclidean"</span>, <span class='st'>"kullback"</span>, <span class='st'>"manhattan"</span>, <span class='st'>"maximum"</span>, <span class='st'>"canberra"</span>,
  <span class='st'>"minkowski"</span>), <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>diag</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>2</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a <a href='dfm.html'>dfm</a> object</p></td>
    </tr>
    <tr>
      <th>selection</th>
      <td><p>a valid index for document or feature names (depending on
<code>margin</code>) from <code>x</code>, to be selected for comparison</p></td>
    </tr>
    <tr>
      <th>margin</th>
      <td><p>identifies the margin of the dfm on which similarity or
difference will be computed:  <code>"documents"</code> for documents or
<code>"features"</code> for word/term features.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>method the similarity or distance measure to be used; see
Details.</p></td>
    </tr>
    <tr>
      <th>upper</th>
      <td><p>whether the upper triangle of the symmetric \(V \times V\)
matrix is recorded. Only used when <code>value = "dist"</code>.</p></td>
    </tr>
    <tr>
      <th>diag</th>
      <td><p>whether the diagonal of the distance matrix should be recorded. .
Only used when <code>value = "dist"</code>.</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>The power of the Minkowski distance.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>By default, <code>textstat_simil</code> and <code>textstat_dist</code> return
  <code><a href='https://www.rdocumentation.org/packages/stats/topics/dist'>dist</a></code> class objects if selection is <code>NULL</code>, otherwise, a
  matrix is returned matching distances to the documents or features
  identified in the selection.</p>  
<p>These can be transformed into a list format using
  <code><a href='as.list.dist.html'>as.list.dist</a></code>, if that format is preferred.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>textstat_simil</code> options are: <code>"correlation"</code> (default),
  <code>"cosine"</code>, <code>"jaccard"</code>, <code>"ejaccard"</code>, <code>"dice"</code>,
  <code>"edice"</code>, <code>"simple matching"</code>, <code>"hamman"</code>, and
  <code>"faith"</code>.</p>
<p><code>textstat_dist</code> options are: <code>"euclidean"</code> (default), 
  <code>"kullback"</code>. <code>"manhattan"</code>, <code>"maximum"</code>, <code>"canberra"</code>,
  and <code>"minkowski"</code>.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If you want to compute similarity on a "normalized" dfm object
  (controlling for variable document lengths, for methods such as correlation
  for which different document lengths matter), then wrap the input dfm in
  <code><a href='dfm_weight.html'>dfm_weight</a>(x, "prop")</code>.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><code>"kullback"</code> is the Kullback-Leibler distance, which assumes that
  \(P(x_i) = 0\) implies \(P(y_i)=0\), and in case either \(P(x_i)\) or
  \(P(y_i)\) equals to zero, then \(P(x_i) * log(p(x_i)/p(y_i))\) is
  assumed to be zero as the limit value.  The formula is:
   $$\sum{P(x)*log(P(x)/p(y))}$$</p>   
<p>All other measures are described in the <span class="pkg">proxy</span> package.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>textstat_dist</code>,
  <code><a href='as.matrix.simil.html'>as.matrix.simil</a></code>,
  <code><a href='as.list.dist.html'>as.list.dist</a></code>, <code><a href='https://www.rdocumentation.org/packages/stats/topics/dist'>dist</a></code>,
  <code><a href='https://www.rdocumentation.org/packages/stats/topics/dist'>as.dist</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># similarities for documents</span>
<span class='no'>dfmat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dfm.html'>dfm</a></span>(<span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='no'>data_corpus_inaugural</span>, <span class='no'>Year</span> <span class='kw'>&gt;</span> <span class='fl'>1980</span>),
          <span class='kw'>remove_punct</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>remove</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stopwords/topics/stopwords'>stopwords</a></span>(<span class='st'>"english"</span>))
(<span class='no'>tstat1</span> <span class='kw'>&lt;-</span> <span class='fu'>textstat_simil</span>(<span class='no'>dfmat</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"cosine"</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"documents"</span>))</div><div class='output co'>#&gt;              1981-Reagan 1985-Reagan 1989-Bush 1993-Clinton 1997-Clinton
#&gt; 1985-Reagan    0.6885376                                                
#&gt; 1989-Bush      0.5342227   0.5569825                                    
#&gt; 1993-Clinton   0.5588243   0.5929382 0.5463195                          
#&gt; 1997-Clinton   0.5620486   0.6409087 0.5723938    0.6258047             
#&gt; 2001-Bush      0.4972389   0.4951335 0.4982357    0.4775110    0.5442529
#&gt; 2005-Bush      0.4577205   0.5113232 0.4556697    0.4396107    0.4355170
#&gt; 2009-Obama     0.5768486   0.5892557 0.5721535    0.5925820    0.6297973
#&gt; 2013-Obama     0.6054181   0.6331729 0.5290330    0.5997993    0.6121809
#&gt; 2017-Trump     0.4234273   0.4734261 0.4530407    0.4982465    0.4947457
#&gt;              2001-Bush 2005-Bush 2009-Obama 2013-Obama
#&gt; 1985-Reagan                                           
#&gt; 1989-Bush                                             
#&gt; 1993-Clinton                                          
#&gt; 1997-Clinton                                          
#&gt; 2001-Bush                                             
#&gt; 2005-Bush    0.5204355                                
#&gt; 2009-Obama   0.5411649 0.4575297                      
#&gt; 2013-Obama   0.5561972 0.5163644  0.6373318           
#&gt; 2017-Trump   0.4518935 0.4349030  0.4481950  0.4546945</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>as.matrix</a></span>(<span class='no'>tstat1</span>)</div><div class='output co'>#&gt;              1981-Reagan 1985-Reagan 1989-Bush 1993-Clinton 1997-Clinton
#&gt; 1981-Reagan    1.0000000   0.6885376 0.5342227    0.5588243    0.5620486
#&gt; 1985-Reagan    0.6885376   1.0000000 0.5569825    0.5929382    0.6409087
#&gt; 1989-Bush      0.5342227   0.5569825 1.0000000    0.5463195    0.5723938
#&gt; 1993-Clinton   0.5588243   0.5929382 0.5463195    1.0000000    0.6258047
#&gt; 1997-Clinton   0.5620486   0.6409087 0.5723938    0.6258047    1.0000000
#&gt; 2001-Bush      0.4972389   0.4951335 0.4982357    0.4775110    0.5442529
#&gt; 2005-Bush      0.4577205   0.5113232 0.4556697    0.4396107    0.4355170
#&gt; 2009-Obama     0.5768486   0.5892557 0.5721535    0.5925820    0.6297973
#&gt; 2013-Obama     0.6054181   0.6331729 0.5290330    0.5997993    0.6121809
#&gt; 2017-Trump     0.4234273   0.4734261 0.4530407    0.4982465    0.4947457
#&gt;              2001-Bush 2005-Bush 2009-Obama 2013-Obama 2017-Trump
#&gt; 1981-Reagan  0.4972389 0.4577205  0.5768486  0.6054181  0.4234273
#&gt; 1985-Reagan  0.4951335 0.5113232  0.5892557  0.6331729  0.4734261
#&gt; 1989-Bush    0.4982357 0.4556697  0.5721535  0.5290330  0.4530407
#&gt; 1993-Clinton 0.4775110 0.4396107  0.5925820  0.5997993  0.4982465
#&gt; 1997-Clinton 0.5442529 0.4355170  0.6297973  0.6121809  0.4947457
#&gt; 2001-Bush    1.0000000 0.5204355  0.5411649  0.5561972  0.4518935
#&gt; 2005-Bush    0.5204355 1.0000000  0.4575297  0.5163644  0.4349030
#&gt; 2009-Obama   0.5411649 0.4575297  1.0000000  0.6373318  0.4481950
#&gt; 2013-Obama   0.5561972 0.5163644  0.6373318  1.0000000  0.4546945
#&gt; 2017-Trump   0.4518935 0.4349030  0.4481950  0.4546945  1.0000000</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>as.list</a></span>(<span class='no'>tstat1</span>)</div><div class='output co'>#&gt; $`1981-Reagan`
#&gt;  1985-Reagan   2013-Obama   2009-Obama 1997-Clinton 1993-Clinton    1989-Bush 
#&gt;    0.6885376    0.6054181    0.5768486    0.5620486    0.5588243    0.5342227 
#&gt;    2001-Bush    2005-Bush   2017-Trump 
#&gt;    0.4972389    0.4577205    0.4234273 
#&gt; 
#&gt; $`1985-Reagan`
#&gt;  1981-Reagan 1997-Clinton   2013-Obama 1993-Clinton   2009-Obama    1989-Bush 
#&gt;    0.6885376    0.6409087    0.6331729    0.5929382    0.5892557    0.5569825 
#&gt;    2005-Bush    2001-Bush   2017-Trump 
#&gt;    0.5113232    0.4951335    0.4734261 
#&gt; 
#&gt; $`1989-Bush`
#&gt; 1997-Clinton   2009-Obama  1985-Reagan 1993-Clinton  1981-Reagan   2013-Obama 
#&gt;    0.5723938    0.5721535    0.5569825    0.5463195    0.5342227    0.5290330 
#&gt;    2001-Bush    2005-Bush   2017-Trump 
#&gt;    0.4982357    0.4556697    0.4530407 
#&gt; 
#&gt; $`1993-Clinton`
#&gt; 1997-Clinton   2013-Obama  1985-Reagan   2009-Obama  1981-Reagan    1989-Bush 
#&gt;    0.6258047    0.5997993    0.5929382    0.5925820    0.5588243    0.5463195 
#&gt;   2017-Trump    2001-Bush    2005-Bush 
#&gt;    0.4982465    0.4775110    0.4396107 
#&gt; 
#&gt; $`1997-Clinton`
#&gt;  1985-Reagan   2009-Obama 1993-Clinton   2013-Obama    1989-Bush  1981-Reagan 
#&gt;    0.6409087    0.6297973    0.6258047    0.6121809    0.5723938    0.5620486 
#&gt;    2001-Bush   2017-Trump    2005-Bush 
#&gt;    0.5442529    0.4947457    0.4355170 
#&gt; 
#&gt; $`2001-Bush`
#&gt;   2013-Obama 1997-Clinton   2009-Obama    2005-Bush    1989-Bush  1981-Reagan 
#&gt;    0.5561972    0.5442529    0.5411649    0.5204355    0.4982357    0.4972389 
#&gt;  1985-Reagan 1993-Clinton   2017-Trump 
#&gt;    0.4951335    0.4775110    0.4518935 
#&gt; 
#&gt; $`2005-Bush`
#&gt;    2001-Bush   2013-Obama  1985-Reagan  1981-Reagan   2009-Obama    1989-Bush 
#&gt;    0.5204355    0.5163644    0.5113232    0.4577205    0.4575297    0.4556697 
#&gt; 1993-Clinton 1997-Clinton   2017-Trump 
#&gt;    0.4396107    0.4355170    0.4349030 
#&gt; 
#&gt; $`2009-Obama`
#&gt;   2013-Obama 1997-Clinton 1993-Clinton  1985-Reagan  1981-Reagan    1989-Bush 
#&gt;    0.6373318    0.6297973    0.5925820    0.5892557    0.5768486    0.5721535 
#&gt;    2001-Bush    2005-Bush   2017-Trump 
#&gt;    0.5411649    0.4575297    0.4481950 
#&gt; 
#&gt; $`2013-Obama`
#&gt;   2009-Obama  1985-Reagan 1997-Clinton  1981-Reagan 1993-Clinton    2001-Bush 
#&gt;    0.6373318    0.6331729    0.6121809    0.6054181    0.5997993    0.5561972 
#&gt;    1989-Bush    2005-Bush   2017-Trump 
#&gt;    0.5290330    0.5163644    0.4546945 
#&gt; 
#&gt; $`2017-Trump`
#&gt; 1993-Clinton 1997-Clinton  1985-Reagan   2013-Obama    1989-Bush    2001-Bush 
#&gt;    0.4982465    0.4947457    0.4734261    0.4546945    0.4530407    0.4518935 
#&gt;   2009-Obama    2005-Bush  1981-Reagan 
#&gt;    0.4481950    0.4349030    0.4234273 
#&gt; </div><div class='input'>
<span class='co'># similarities for for specific documents</span>
<span class='fu'>textstat_simil</span>(<span class='no'>dfmat</span>, <span class='kw'>selection</span> <span class='kw'>=</span> <span class='st'>"2017-Trump"</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"documents"</span>)</div><div class='output co'>#&gt;              2017-Trump
#&gt; 1981-Reagan   0.3635906
#&gt; 1985-Reagan   0.4208903
#&gt; 1989-Bush     0.3983633
#&gt; 1993-Clinton  0.4579742
#&gt; 1997-Clinton  0.4531154
#&gt; 2001-Bush     0.3999252
#&gt; 2005-Bush     0.3814126
#&gt; 2009-Obama    0.3870892
#&gt; 2013-Obama    0.3996661
#&gt; 2017-Trump    1.0000000</div><div class='input'><span class='fu'>textstat_simil</span>(<span class='no'>dfmat</span>, <span class='kw'>selection</span> <span class='kw'>=</span> <span class='st'>"2017-Trump"</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"cosine"</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"documents"</span>)</div><div class='output co'>#&gt;              2017-Trump
#&gt; 1981-Reagan   0.4234273
#&gt; 1985-Reagan   0.4734261
#&gt; 1989-Bush     0.4530407
#&gt; 1993-Clinton  0.4982465
#&gt; 1997-Clinton  0.4947457
#&gt; 2001-Bush     0.4518935
#&gt; 2005-Bush     0.4349030
#&gt; 2009-Obama    0.4481950
#&gt; 2013-Obama    0.4546945
#&gt; 2017-Trump    1.0000000</div><div class='input'><span class='fu'>textstat_simil</span>(<span class='no'>dfmat</span>, <span class='kw'>selection</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"2009-Obama"</span> , <span class='st'>"2013-Obama"</span>), <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"documents"</span>)</div><div class='output co'>#&gt;              2009-Obama 2013-Obama
#&gt; 1981-Reagan   0.5159057  0.5545574
#&gt; 1985-Reagan   0.5329123  0.5878448
#&gt; 1989-Bush     0.5133582  0.4707774
#&gt; 1993-Clinton  0.5515630  0.5621398
#&gt; 1997-Clinton  0.5915817  0.5744939
#&gt; 2001-Bush     0.4823183  0.5046514
#&gt; 2005-Bush     0.3877744  0.4603052
#&gt; 2009-Obama    1.0000000  0.5869754
#&gt; 2013-Obama    0.5869754  1.0000000
#&gt; 2017-Trump    0.3870892  0.3996661</div><div class='input'>
<span class='co'># compute some term similarities</span>
<span class='no'>tstat2</span> <span class='kw'>&lt;-</span> <span class='fu'>textstat_simil</span>(<span class='no'>dfmat</span>, <span class='kw'>selection</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"fair"</span>, <span class='st'>"health"</span>, <span class='st'>"terror"</span>), <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"cosine"</span>,
                      <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"features"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>as.matrix</a></span>(<span class='no'>tstat2</span>), <span class='fl'>10</span>)</div><div class='output co'>#&gt;                fair     health    terror
#&gt; senator   0.7385489 0.00000000 0.1666667
#&gt; hatfield  0.6030227 0.00000000 0.4082483
#&gt; mr        0.3078596 0.09724333 0.1786474
#&gt; chief     0.6154575 0.27216553 0.1666667
#&gt; justice   0.3594254 0.52981294 0.1622214
#&gt; president 0.5817745 0.40929374 0.2864459
#&gt; vice      0.8040303 0.33333333 0.2721655
#&gt; bush      0.6154575 0.54433105 0.3333333
#&gt; mondale   0.6030227 0.00000000 0.4082483
#&gt; baker     0.6030227 0.00000000 0.4082483</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>as.list</a></span>(<span class='no'>tstat2</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>8</span>)</div><div class='output co'>#&gt; $fair
#&gt;      size  economic       tax beginning  national   economy  republic    months 
#&gt; 0.9045340 0.8922269 0.8869686 0.8864053 0.8775269 0.8775269 0.8703883 0.8703883 
#&gt; 
#&gt; $health
#&gt;       wrong      reform      common   knowledge      planet generations 
#&gt;   0.8944272   0.8944272   0.8888889   0.8888889   0.8819171   0.8728716 
#&gt;      ideals        true 
#&gt;   0.8540168   0.8432740 
#&gt; 
#&gt; $terror
#&gt;        full     sustain       solve        land commonplace      denied 
#&gt;   0.9428090   0.9128709   0.9128709   0.8876254   0.8660254   0.8660254 
#&gt;   guarantee     problem 
#&gt;   0.8660254   0.8660254 
#&gt; </div><div class='input'>
<span class='co'># create a dfm from inaugural addresses from Reagan onwards</span>
<span class='no'>dfmat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dfm.html'>dfm</a></span>(<span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='no'>data_corpus_inaugural</span>, <span class='no'>Year</span> <span class='kw'>&gt;</span> <span class='fl'>1990</span>),
               <span class='kw'>remove</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stopwords/topics/stopwords'>stopwords</a></span>(<span class='st'>"english"</span>), <span class='kw'>stem</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>remove_punct</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># distances for documents </span>
(<span class='no'>tstat1</span> <span class='kw'>&lt;-</span> <span class='fu'>textstat_dist</span>(<span class='no'>dfmat</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"documents"</span>))</div><div class='output co'>#&gt;              1993-Clinton 1997-Clinton 2001-Bush 2005-Bush 2009-Obama
#&gt; 1997-Clinton     58.90671                                            
#&gt; 2001-Bush        52.82045     63.63961                               
#&gt; 2005-Bush        62.79331     73.38256  54.32311                     
#&gt; 2009-Obama       51.66237     59.95832  50.70503  62.33779           
#&gt; 2013-Obama       51.30302     60.81118  49.03060  57.90509   48.48711
#&gt; 2017-Trump       52.14403     65.85590  48.79549  58.00000   55.65968
#&gt;              2013-Obama
#&gt; 1997-Clinton           
#&gt; 2001-Bush              
#&gt; 2005-Bush              
#&gt; 2009-Obama             
#&gt; 2013-Obama             
#&gt; 2017-Trump     55.21775</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>as.matrix</a></span>(<span class='no'>tstat1</span>)</div><div class='output co'>#&gt;              1993-Clinton 1997-Clinton 2001-Bush 2005-Bush 2009-Obama
#&gt; 1993-Clinton      0.00000     58.90671  52.82045  62.79331   51.66237
#&gt; 1997-Clinton     58.90671      0.00000  63.63961  73.38256   59.95832
#&gt; 2001-Bush        52.82045     63.63961   0.00000  54.32311   50.70503
#&gt; 2005-Bush        62.79331     73.38256  54.32311   0.00000   62.33779
#&gt; 2009-Obama       51.66237     59.95832  50.70503  62.33779    0.00000
#&gt; 2013-Obama       51.30302     60.81118  49.03060  57.90509   48.48711
#&gt; 2017-Trump       52.14403     65.85590  48.79549  58.00000   55.65968
#&gt;              2013-Obama 2017-Trump
#&gt; 1993-Clinton   51.30302   52.14403
#&gt; 1997-Clinton   60.81118   65.85590
#&gt; 2001-Bush      49.03060   48.79549
#&gt; 2005-Bush      57.90509   58.00000
#&gt; 2009-Obama     48.48711   55.65968
#&gt; 2013-Obama      0.00000   55.21775
#&gt; 2017-Trump     55.21775    0.00000</div><div class='input'>
<span class='co'># distances for specific documents</span>
<span class='fu'>textstat_dist</span>(<span class='no'>dfmat</span>, <span class='st'>"2017-Trump"</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"documents"</span>)</div><div class='output co'>#&gt;              2017-Trump
#&gt; 1993-Clinton   52.14403
#&gt; 1997-Clinton   65.85590
#&gt; 2001-Bush      48.79549
#&gt; 2005-Bush      58.00000
#&gt; 2009-Obama     55.65968
#&gt; 2013-Obama     55.21775
#&gt; 2017-Trump      0.00000</div><div class='input'>(<span class='no'>tstat2</span> <span class='kw'>&lt;-</span> <span class='fu'>textstat_dist</span>(<span class='no'>dfmat</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"2009-Obama"</span> , <span class='st'>"2013-Obama"</span>), <span class='kw'>margin</span> <span class='kw'>=</span> <span class='st'>"documents"</span>))</div><div class='output co'>#&gt;              2009-Obama 2013-Obama
#&gt; 1993-Clinton   51.66237   51.30302
#&gt; 1997-Clinton   59.95832   60.81118
#&gt; 2001-Bush      50.70503   49.03060
#&gt; 2005-Bush      62.33779   57.90509
#&gt; 2009-Obama      0.00000   48.48711
#&gt; 2013-Obama     48.48711    0.00000
#&gt; 2017-Trump     55.65968   55.21775</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>as.list</a></span>(<span class='no'>tstat2</span>)</div><div class='output co'>#&gt; $`2009-Obama`
#&gt;    2005-Bush 1997-Clinton   2017-Trump 1993-Clinton    2001-Bush   2013-Obama 
#&gt;     62.33779     59.95832     55.65968     51.66237     50.70503     48.48711 
#&gt; 
#&gt; $`2013-Obama`
#&gt; 1997-Clinton    2005-Bush   2017-Trump 1993-Clinton    2001-Bush   2009-Obama 
#&gt;     60.81118     57.90509     55.21775     51.30302     49.03060     48.48711 
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng, Stefan Müller, Akitaka Matsuo, Jiong Wei Lua, Patrick O. Perry, Jouni Kuha, Benjamin Lauderdale, William Lowe, European Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '9b4ef7fd791dc6075154d3ebd7b12acf',
    indexName: 'quanteda',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

