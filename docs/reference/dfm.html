<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>create a document-feature matrix — dfm • quanteda</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">quanteda</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/kbenoit/quanteda">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>create a document-feature matrix</h1>
    </div>

    
    <p>Construct a sparse document-feature matrix, from a character, <a href='corpus.html'>corpus</a>, 
<a href='tokens.html'>tokens</a>, or even other dfm object.</p>
    

    <pre><span class='fu'>dfm</span>(<span class='no'>x</span>, <span class='kw'>tolower</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>stem</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>remove</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>thesaurus</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>dictionary</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>valuetype</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"glob"</span>, <span class='st'>"regex"</span>,
  <span class='st'>"fixed"</span>), <span class='kw'>groups</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd>character, <a href='corpus.html'>corpus</a>, <a href='tokens.html'>tokens</a>, or dfm object</dd>
      <dt>tolower</dt>
      <dd>convert all tokens to lowercase</dd>
      <dt>stem</dt>
      <dd>if <code>TRUE</code>, stem words</dd>
      <dt>select</dt>
      <dd>a user supplied regular expression defining which features to 
keep, while excluding all others.  This can be used in lieu of a dictionary
if there are only specific features that a user wishes to keep. To extract 
only Twitter usernames, for example, set <code>select = &quot;@*&quot;</code> and make 
sure that <code>removeTwitter = FALSE</code> as an additional argument passed to 
<a href='tokenize.html'>tokenize</a>.  Note: <code>select = &quot;^@\\w+\\b&quot;</code> would be the regular
expression version of this matching pattern.  The pattern matching type 
will be set by <code>valuetype</code>.</dd>
      <dt>remove</dt>
      <dd>a character vector of user-supplied features to ignore, such as
&quot;stop words&quot;.  To access one possible list (from any list you wish), use 
<code><a href='stopwords.html'>stopwords</a>()</code>.  The pattern matching type will be set by 
<code>valuetype</code>.  For behaviour of <code>remove</code> with <code>ngrams &gt; 1</code>, 
see Details.</dd>
      <dt>thesaurus</dt>
      <dd>A list of character vector &quot;thesaurus&quot; entries, in a 
dictionary list format, which operates as a dictionary but without 
excluding values not matched from the dictionary.  Thesaurus keys are 
converted to upper case to create a feature label in the dfm, as a reminder
that this was not a type found in the text, but rather the label of a 
thesaurus key.  For more fine-grained control over this and other aspects 
of converting features into dictionary/thesaurus keys from pattern matches 
to values, you can use <code><a href='dfm_lookup.html'>dfm_lookup</a></code> after creating the dfm.</dd>
      <dt>dictionary</dt>
      <dd>A list of character vector dictionary entries, including 
regular expressions (see examples)</dd>
      <dt>valuetype</dt>
      <dd>how to interpret keyword expressions: <code>&quot;glob&quot;</code> for 
&quot;glob&quot;-style wildcard expressions; <code>&quot;regex&quot;</code> for regular expressions;
or <code>&quot;fixed&quot;</code> for exact matching. See <a href='valuetype.html'>valuetype</a> for details.</dd>
      <dt>groups</dt>
      <dd>character vector containing the names of document variables for
aggregating documents; only applies when calling dfm on a corpus object. 
When <code>x</code> is a dfm object, <code>groups</code> provides a convenient 
and fast method of combining and refactoring the documents of the dfm 
according to the groups.</dd>
      <dt>verbose</dt>
      <dd>display messages if <code>TRUE</code></dd>
      <dt>...</dt>
      <dd>additional arguments passed to <a href='tokens.html'>tokens</a>, for character and 
corpus</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <a href='dfm-class.html'>dfm-class</a> object</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The default behavior for <code>remove</code>/<code>select</code> when 
  constructing ngrams using <code>dfm(x, </code> <em>ngrams &gt; 1</em><code>)</code> is to 
  remove/select any ngram constructed from a matching feature.  If you wish 
  to remove these before constructing ngrams, you will need to first tokenize
  the texts with ngrams, then remove the features to be ignored, and then 
  construct the dfm using this modified tokenization object.  See the code 
  examples for an illustration.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='dfm_select.html'>dfm_select</a></code>, <a href='dfm-class.html'>dfm-class</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## for a corpus</span>
<span class='no'>corpus_post80inaug</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='no'>data_corpus_inaugural</span>, <span class='no'>Year</span> <span class='kw'>&gt;</span> <span class='fl'>1980</span>)
<span class='fu'>dfm</span>(<span class='no'>corpus_post80inaug</span>)</div><div class='output co'>#&gt; Document-feature matrix of: 10 documents, 3,239 features (77.2% sparse).</div><div class='input'><span class='fu'>dfm</span>(<span class='no'>corpus_post80inaug</span>, <span class='kw'>tolower</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; Document-feature matrix of: 10 documents, 3,458 features (77.5% sparse).</div><div class='input'>
<span class='co'># grouping documents by docvars in a corpus</span>
<span class='fu'>dfm</span>(<span class='no'>corpus_post80inaug</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='st'>"President"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>Creating a dfm from a corpus ...</span></div><div class='output co'>#&gt; <span class='message'>   ... grouping texts by variable: President</span></div><div class='output co'>#&gt; <span class='message'>   ... tokenizing grouped texts</span></div><div class='output co'>#&gt; <span class='message'>   ... lowercasing</span></div><div class='output co'>#&gt; <span class='message'>   ... found 5 documents, 3,239 features</span></div><div class='output co'>#&gt; <span class='message'>   ... created a 5 x 3,239 sparse dfm</span>
#&gt; <span class='message'>   ... complete. </span>
#&gt; <span class='message'>Elapsed time: 0 seconds.</span></div><div class='output co'>#&gt; Document-feature matrix of: 5 documents, 3,239 features (64% sparse).</div><div class='input'>
<span class='co'># with English stopwords and stemming</span>
<span class='fu'>dfm</span>(<span class='no'>corpus_post80inaug</span>, <span class='kw'>remove</span> <span class='kw'>=</span> <span class='fu'><a href='stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>), <span class='kw'>stem</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>Creating a dfm from a corpus ...</span></div><div class='output co'>#&gt; <span class='message'>   ... tokenizing texts</span></div><div class='output co'>#&gt; <span class='message'>   ... lowercasing</span></div><div class='output co'>#&gt; <span class='message'>   ... found 10 documents, 3,239 features</span></div><div class='output co'>#&gt; <span class='message'>   ... </span></div><div class='output co'>#&gt; <span class='message'>removed 130 features, from 174 supplied (glob) feature types</span></div><div class='output co'>#&gt; <span class='message'>   ... stemming features (English)</span></div><div class='output co'>#&gt; <span class='message'>, trimmed 832 feature variants</span></div><div class='output co'>#&gt; <span class='message'>   ... created a 10 x 2,277 sparse dfm</span>
#&gt; <span class='message'>   ... complete. </span>
#&gt; <span class='message'>Elapsed time: 0.025 seconds.</span></div><div class='output co'>#&gt; Document-feature matrix of: 10 documents, 2,277 features (74.8% sparse).</div><div class='input'><span class='co'># works for both words in ngrams too</span>
<span class='fu'>dfm</span>(<span class='st'>"Banking industry"</span>, <span class='kw'>stem</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>ngrams</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; Document-feature matrix of: 1 document, 1 feature (0% sparse).
#&gt; 1 x 1 sparse Matrix of class &quot;dfmSparse&quot;
#&gt;        features
#&gt; docs    bank_industri
#&gt;   text1             1</div><div class='input'>
<span class='co'># with dictionaries</span>
<span class='no'>corpus_post1900inaug</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='no'>data_corpus_inaugural</span>, <span class='no'>Year</span><span class='kw'>&gt;</span><span class='fl'>1900</span>)
<span class='no'>mydict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dictionary.html'>dictionary</a></span>(<span class='fu'>list</span>(<span class='kw'>christmas</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Christmas"</span>, <span class='st'>"Santa"</span>, <span class='st'>"holiday"</span>),
               <span class='kw'>opposition</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Opposition"</span>, <span class='st'>"reject"</span>, <span class='st'>"notincorpus"</span>),
               <span class='kw'>taxing</span> <span class='kw'>=</span> <span class='st'>"taxing"</span>,
               <span class='kw'>taxation</span> <span class='kw'>=</span> <span class='st'>"taxation"</span>,
               <span class='kw'>taxregex</span> <span class='kw'>=</span> <span class='st'>"tax*"</span>,
               <span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>"states"</span>))
<span class='fu'>dfm</span>(<span class='no'>corpus_post1900inaug</span>, <span class='kw'>dictionary</span> <span class='kw'>=</span> <span class='no'>mydict</span>)</div><div class='output co'>#&gt; Document-feature matrix of: 30 documents, 6 features (0% sparse).</div><div class='input'>
<span class='co'># with the thesaurus feature</span>
<span class='no'>mytexts</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"The new law included a capital gains tax, and an inheritance tax."</span>,
             <span class='st'>"New York City has raised a taxes: an income tax and a sales tax."</span>)
<span class='no'>mydict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dictionary.html'>dictionary</a></span>(<span class='fu'>list</span>(<span class='kw'>tax</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"tax"</span>, <span class='st'>"income tax"</span>, <span class='st'>"capital gains tax"</span>, <span class='st'>"inheritance tax"</span>)))
<span class='fu'>dfm</span>(<span class='fu'><a href='phrasetotoken.html'>phrasetotoken</a></span>(<span class='no'>mytexts</span>, <span class='no'>mydict</span>), <span class='kw'>thesaurus</span> <span class='kw'>=</span> <span class='fu'>lapply</span>(<span class='no'>mydict</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'>gsub</span>(<span class='st'>"\\s"</span>, <span class='st'>"_"</span>, <span class='no'>x</span>)))</div><div class='output co'>#&gt; Document-feature matrix of: 2 documents, 17 features (32.4% sparse).
#&gt; 2 x 17 sparse Matrix of class &quot;dfmSparse&quot;
#&gt;        features
#&gt; docs    the new law included a , and an . york city has raised taxes : sales
#&gt;   text1   1   1   1        1 1 1   1  1 1    0    0   0      0     0 0     0
#&gt;   text2   0   1   0        0 2 0   1  1 1    1    1   1      1     1 1     1
#&gt;        features
#&gt; docs    TAX
#&gt;   text1   2
#&gt;   text2   2</div><div class='input'><span class='co'># pick up "taxes" with "tax" as a regex</span>
<span class='fu'>dfm</span>(<span class='fu'><a href='phrasetotoken.html'>phrasetotoken</a></span>(<span class='no'>mytexts</span>, <span class='no'>mydict</span>), <span class='kw'>thesaurus</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>anytax</span> <span class='kw'>=</span> <span class='st'>"tax"</span>), <span class='kw'>valuetype</span> <span class='kw'>=</span> <span class='st'>"regex"</span>)</div><div class='output co'>#&gt; Document-feature matrix of: 2 documents, 16 features (31.2% sparse).
#&gt; 2 x 16 sparse Matrix of class &quot;dfmSparse&quot;
#&gt;        features
#&gt; docs    the new law included a , and an . york city has raised : sales ANYTAX
#&gt;   text1   1   1   1        1 1 1   1  1 1    0    0   0      0 0     0      2
#&gt;   text2   0   1   0        0 2 0   1  1 1    1    1   1      1 1     1      3</div><div class='input'>
<span class='co'># removing stopwords</span>
<span class='no'>testText</span> <span class='kw'>&lt;-</span> <span class='st'>"The quick brown fox named Seamus jumps over the lazy dog also named Seamus, with
             the newspaper from a boy named Seamus, in his mouth."</span>
<span class='no'>testCorpus</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='corpus.html'>corpus</a></span>(<span class='no'>testText</span>)
<span class='co'># note: "also" is not in the default stopwords("english")</span>
<span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='no'>testCorpus</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='fu'><a href='stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>)))</div><div class='output co'>#&gt; [1] &quot;the&quot;  &quot;over&quot; &quot;with&quot; &quot;from&quot; &quot;a&quot;    &quot;in&quot;   &quot;his&quot; </div><div class='input'><span class='co'># for ngrams</span>
<span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='no'>testCorpus</span>, <span class='kw'>ngrams</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='fu'><a href='stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>), <span class='kw'>removePunct</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; character(0)</div><div class='input'><span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='no'>testCorpus</span>, <span class='kw'>ngrams</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='fu'><a href='stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>), <span class='kw'>removePunct</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; character(0)</div><div class='input'>
<span class='co'># removing stopwords before constructing ngrams</span>
<span class='no'>tokensAll</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='fu'><a href='char_tolower.html'>char_tolower</a></span>(<span class='no'>testText</span>), <span class='kw'>removePunct</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>tokensNoStopwords</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='removeFeatures.html'>removeFeatures</a></span>(<span class='no'>tokensAll</span>, <span class='fu'><a href='stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>))
<span class='no'>tokensNgramsNoStopwords</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tokens_ngrams.html'>tokens_ngrams</a></span>(<span class='no'>tokensNoStopwords</span>, <span class='fl'>2</span>)
<span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='no'>tokensNgramsNoStopwords</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))</div><div class='output co'>#&gt;  [1] &quot;quick_brown&quot;      &quot;brown_fox&quot;        &quot;fox_named&quot;        &quot;named_seamus&quot;    
#&gt;  [5] &quot;seamus_jumps&quot;     &quot;jumps_lazy&quot;       &quot;lazy_dog&quot;         &quot;dog_also&quot;        
#&gt;  [9] &quot;also_named&quot;       &quot;seamus_newspaper&quot; &quot;newspaper_boy&quot;    &quot;boy_named&quot;       
#&gt; [13] &quot;seamus_mouth&quot;    </div><div class='input'>
<span class='co'># keep only certain words</span>
<span class='fu'>dfm</span>(<span class='no'>testCorpus</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='st'>"*s"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)  <span class='co'># keep only words ending in "s"</span></div><div class='output co'>#&gt; Document-feature matrix of: 1 document, 3 features (0% sparse).
#&gt; 1 x 3 sparse Matrix of class &quot;dfmSparse&quot;
#&gt;        features
#&gt; docs    seamus jumps his
#&gt;   text1      3     1   1</div><div class='input'><span class='fu'>dfm</span>(<span class='no'>testCorpus</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='st'>"s$"</span>, <span class='kw'>valuetype</span> <span class='kw'>=</span> <span class='st'>"regex"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; Document-feature matrix of: 1 document, 3 features (0% sparse).
#&gt; 1 x 3 sparse Matrix of class &quot;dfmSparse&quot;
#&gt;        features
#&gt; docs    seamus jumps his
#&gt;   text1      3     1   1</div><div class='input'>
<span class='co'># testing Twitter functions</span>
<span class='no'>testTweets</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"My homie @justinbieber #justinbieber shopping in #LA yesterday #beliebers"</span>,
                <span class='st'>"2all the ha8ers including my bro #justinbieber #emabiggestfansjustinbieber"</span>,
                <span class='st'>"Justin Bieber #justinbieber #belieber #fetusjustin #EMABiggestFansJustinBieber"</span>)
<span class='fu'>dfm</span>(<span class='no'>testTweets</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='st'>"#*"</span>, <span class='kw'>removeTwitter</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)  <span class='co'># keep only hashtags</span></div><div class='output co'>#&gt; Document-feature matrix of: 3 documents, 6 features (50% sparse).
#&gt; 3 x 6 sparse Matrix of class &quot;dfmSparse&quot;
#&gt;        features
#&gt; docs    #justinbieber #la #beliebers #emabiggestfansjustinbieber #belieber
#&gt;   text1             1   1          1                           0         0
#&gt;   text2             1   0          0                           1         0
#&gt;   text3             1   0          0                           1         1
#&gt;        features
#&gt; docs    #fetusjustin
#&gt;   text1            0
#&gt;   text2            0
#&gt;   text3            1</div><div class='input'><span class='fu'>dfm</span>(<span class='no'>testTweets</span>, <span class='kw'>select</span> <span class='kw'>=</span> <span class='st'>"^#.*$"</span>, <span class='kw'>valuetype</span> <span class='kw'>=</span> <span class='st'>"regex"</span>, <span class='kw'>removeTwitter</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; Document-feature matrix of: 3 documents, 6 features (50% sparse).
#&gt; 3 x 6 sparse Matrix of class &quot;dfmSparse&quot;
#&gt;        features
#&gt; docs    #justinbieber #la #beliebers #emabiggestfansjustinbieber #belieber
#&gt;   text1             1   1          1                           0         0
#&gt;   text2             1   0          0                           1         0
#&gt;   text3             1   0          0                           1         1
#&gt;        features
#&gt; docs    #fetusjustin
#&gt;   text1            0
#&gt;   text2            0
#&gt;   text3            1</div><div class='input'>
<span class='co'># for a dfm</span>
<span class='no'>dfm1</span> <span class='kw'>&lt;-</span> <span class='fu'>dfm</span>(<span class='no'>data_corpus_irishbudget2010</span>)
<span class='no'>dfm2</span> <span class='kw'>&lt;-</span> <span class='fu'>dfm</span>(<span class='no'>dfm1</span>,
            <span class='kw'>groups</span> <span class='kw'>=</span> <span class='fu'>ifelse</span>(<span class='fu'><a href='docvars.html'>docvars</a></span>(<span class='no'>data_corpus_irishbudget2010</span>, <span class='st'>"party"</span>) <span class='kw'>%in%</span> <span class='fu'>c</span>(<span class='st'>"FF"</span>, <span class='st'>"Green"</span>),
                            <span class='st'>"Govt"</span>, <span class='st'>"Opposition"</span>),
            <span class='kw'>tolower</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>   ... grouping texts</span></div><div class='output co'>#&gt; <span class='message'>   ... created a 2 x 5,058 sparse dfm</span>
#&gt; <span class='message'>   ... complete. </span>
#&gt; <span class='message'>Elapsed time: 0.006 seconds.</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
