<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a document-feature matrix — dfm • quanteda</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>

<meta property="og:title" content="Create a document-feature matrix — dfm" />
<meta property="og:description" content="Construct a sparse document-feature matrix, from a character, corpus,
tokens, or even other dfm object." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144616-24"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-144616-24');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quanteda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Quick Start
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/quickstart.html">Quick Start Guide</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_es.html">Guía de Inicio Rápido</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_cn.html">快速入门指南</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_ja.html">クイック・スタートガイド</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_hi.html">त्वरित आरंभ </a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Features
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/comparison.html">Feature comparison</a>
    </li>
    <li>
      <a href="../articles/pkgdown/design.html">Package design</a>
    </li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/examples/phrase.html">Multi-word expressions</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/plotting.html">Textual data visualization</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/lsa.html">Latent Semantic Analysis (LSA)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/chinese.html">Chinese text analysis</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/twitter.html">Social media analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Replications
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/replication/digital-humanities.html">Text Analysis with R for Students of Literature</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/text2vec.html">Word embedding (word2vec)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/qss.html">Quantitative Social Science Ch. 5.1</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/quanteda/quanteda">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a document-feature matrix</h1>
    <small class="dont-index">Source: <a href='https://github.com/quanteda/quanteda/blob/master/R/dfm.R'><code>R/dfm.R</code></a></small>
    <div class="hidden name"><code>dfm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Construct a sparse document-feature matrix, from a character, <a href='corpus.html'>corpus</a>,
<a href='tokens.html'>tokens</a>, or even other dfm object.</p>
    </div>

    <pre class="usage"><span class='fu'>dfm</span>(
  <span class='kw'>x</span>,
  tolower = <span class='fl'>TRUE</span>,
  stem = <span class='fl'>FALSE</span>,
  select = <span class='kw'>NULL</span>,
  remove = <span class='kw'>NULL</span>,
  dictionary = <span class='kw'>NULL</span>,
  thesaurus = <span class='kw'>NULL</span>,
  valuetype = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"glob"</span>, <span class='st'>"regex"</span>, <span class='st'>"fixed"</span>),
  case_insensitive = <span class='fl'>TRUE</span>,
  groups = <span class='kw'>NULL</span>,
  verbose = <span class='fu'><a href='quanteda_options.html'>quanteda_options</a></span>(<span class='st'>"verbose"</span>),
  <span class='kw'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>character, <a href='corpus.html'>corpus</a>, <a href='tokens.html'>tokens</a>, or dfm object</p></td>
    </tr>
    <tr>
      <th>tolower</th>
      <td><p>convert all features to lowercase</p></td>
    </tr>
    <tr>
      <th>stem</th>
      <td><p>if <code>TRUE</code>, stem words</p></td>
    </tr>
    <tr>
      <th>select</th>
      <td><p>a  <a href='pattern.html'>pattern</a>  of user-supplied features to keep, while
excluding all others.  This can be used in lieu of a dictionary if there
are only specific features that a user wishes to keep. To extract only
Twitter usernames, for example, set <code>select = "@*"</code> and make sure that
<code>split_tags = FALSE</code> as an additional argument passed to <a href='tokens.html'>tokens</a>.
Note: <code>select = "^@\\\w+\\\b"</code> would be the regular expression version of
this matching pattern.  The pattern matching type will be set by
<code>valuetype</code>.  See also <code><a href='tokens_select.html'>tokens_remove()</a></code>.</p></td>
    </tr>
    <tr>
      <th>remove</th>
      <td><p>a <a href='pattern.html'>pattern</a> of user-supplied features to ignore, such as "stop
words".  To access one possible list (from any list you wish), use
<code><a href='https://rdrr.io/pkg/stopwords/man/stopwords.html'>stopwords()</a></code>.  The pattern matching type will be set by <code>valuetype</code>.  See
also <code><a href='tokens_select.html'>tokens_select()</a></code>.  For behaviour of <code>remove</code> with <code>ngrams &gt; 1</code>, see
Details.</p></td>
    </tr>
    <tr>
      <th>dictionary</th>
      <td><p>a <a href='dictionary.html'>dictionary</a> object to apply to the tokens when creating
the dfm</p></td>
    </tr>
    <tr>
      <th>thesaurus</th>
      <td><p>a <a href='dictionary.html'>dictionary</a> object that will be applied as if <code>exclusive = FALSE</code>. See also <code><a href='tokens_lookup.html'>tokens_lookup()</a></code>.  For more fine-grained control over
this and other aspects of converting features into dictionary/thesaurus
keys from pattern matches to values, consider creating the dfm first, and
then applying <code><a href='dfm_lookup.html'>dfm_lookup()</a></code> separately, or using <code><a href='tokens_lookup.html'>tokens_lookup()</a></code> on the
tokenized text before calling <code>dfm</code>.</p></td>
    </tr>
    <tr>
      <th>valuetype</th>
      <td><p>the type of pattern matching: <code>"glob"</code> for "glob"-style
wildcard expressions; <code>"regex"</code> for regular expressions; or <code>"fixed"</code> for
exact matching. See <a href='valuetype.html'>valuetype</a> for details.</p></td>
    </tr>
    <tr>
      <th>case_insensitive</th>
      <td><p>logical; if <code>TRUE</code>, ignore case when matching a
<code>pattern</code> or <a href='dictionary.html'>dictionary</a> values</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>either: a character vector containing the names of document
variables to be used for grouping; or a factor or object that can be
coerced into a factor equal in length or rows to the number of documents.
<code>NA</code> values of the grouping value are dropped.
See <a href='groups.html'>groups</a> for details.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>display messages if <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to <a href='tokens.html'>tokens</a>; not used when <code>x</code> is a
dfm</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <a href='dfm-class.html'>dfm</a> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The default behaviour for <code>remove</code>/<code>select</code> when constructing ngrams
using <code>dfm(x, </code> <em>ngrams &gt; 1</em><code>)</code> is to remove/select any ngram constructed
from a matching feature.  If you wish to remove these before constructing
ngrams, you will need to first tokenize the texts with ngrams, then remove
the features to be ignored, and then construct the dfm using this modified
tokenization object.  See the code examples for an illustration.</p>
<p>To select on and match the features of a another dfm, <code>x</code> must also be a
dfm.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>When <code>x</code> is a dfm, <code>groups</code> provides a convenient and fast method of
combining and refactoring the documents of the dfm according to the groups.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='dfm_select.html'>dfm_select()</a></code>, <a href='dfm-class.html'>dfm</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## for a corpus</span>
<span class='kw'>corp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='kw'>data_corpus_inaugural</span>, <span class='kw'>Year</span> <span class='op'>&gt;</span> <span class='fl'>1980</span>)
<span class='fu'>dfm</span>(<span class='kw'>corp</span>)
</div><div class='output co'>#&gt; Document-feature matrix of: 10 documents, 3,261 features (77.4% sparse) and 4 docvars.
#&gt;               features
#&gt; docs           senator hatfield   , mr   . chief justice president vice bush
#&gt;   1981-Reagan        2        1 174  3 130     1       1         5    2    1
#&gt;   1985-Reagan        4        0 177  0 124     1       1         3    1    1
#&gt;   1989-Bush          2        0 166  6 142     1       2         6    1    0
#&gt;   1993-Clinton       0        0 139  0  81     0       0         2    0    1
#&gt;   1997-Clinton       0        0 131  0 108     0       1         1    0    0
#&gt;   2001-Bush          0        0 110  0  96     0       3         3    1    0
#&gt; [ reached max_ndoc ... 4 more documents, reached max_nfeat ... 3,251 more features ]</div><div class='input'><span class='fu'>dfm</span>(<span class='kw'>corp</span>, tolower = <span class='fl'>FALSE</span>)
</div><div class='output co'>#&gt; Document-feature matrix of: 10 documents, 3,479 features (77.7% sparse) and 4 docvars.
#&gt;               features
#&gt; docs           Senator Hatfield   , Mr   . Chief Justice President Vice Bush
#&gt;   1981-Reagan        2        1 174  3 130     1       1         5    2    1
#&gt;   1985-Reagan        4        0 177  0 124     1       1         3    1    1
#&gt;   1989-Bush          2        0 166  6 142     1       1         6    1    0
#&gt;   1993-Clinton       0        0 139  0  81     0       0         1    0    1
#&gt;   1997-Clinton       0        0 131  0 108     0       0         1    0    0
#&gt;   2001-Bush          0        0 110  0  96     0       0         3    1    0
#&gt; [ reached max_ndoc ... 4 more documents, reached max_nfeat ... 3,469 more features ]</div><div class='input'>
<span class='co'># grouping documents by docvars in a corpus</span>
<span class='fu'>dfm</span>(<span class='kw'>corp</span>, groups = <span class='st'>"President"</span>, verbose = <span class='fl'>TRUE</span>)
</div><div class='output co'>#&gt; <span class='message'>Creating a dfm from a corpus input...</span></div><div class='output co'>#&gt; <span class='message'> ...lowercasing</span></div><div class='output co'>#&gt; <span class='message'> ...found 10 documents, 3,261 features</span></div><div class='output co'>#&gt; <span class='message'> ...grouping texts</span></div><div class='output co'>#&gt; <span class='message'> ...complete, elapsed time: 0.044 seconds.</span></div><div class='output co'>#&gt; <span class='message'>Finished constructing a 5 x 3,261 sparse dfm.</span></div><div class='output co'>#&gt; Document-feature matrix of: 5 documents, 3,261 features (64.2% sparse) and 2 docvars.
#&gt;          features
#&gt; docs      senator hatfield   , mr   . chief justice president vice bush
#&gt;   Bush          2        0 396  7 336     2      11        13    3    1
#&gt;   Clinton       0        0 270  0 189     0       1         3    0    1
#&gt;   Obama         0        0 229  1 207     1       2         3    1    1
#&gt;   Reagan        6        1 351  3 254     2       2         8    3    2
#&gt;   Trump         0        0  96  0  88     1       1         5    0    1
#&gt; [ reached max_nfeat ... 3,251 more features ]</div><div class='input'>
<span class='co'># with English stopwords and stemming</span>
<span class='fu'>dfm</span>(<span class='kw'>corp</span>, remove = <span class='fu'><a href='https://rdrr.io/pkg/stopwords/man/stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>), stem = <span class='fl'>TRUE</span>, verbose = <span class='fl'>TRUE</span>)
</div><div class='output co'>#&gt; <span class='message'>Creating a dfm from a corpus input...</span></div><div class='output co'>#&gt; <span class='message'> ...lowercasing</span></div><div class='output co'>#&gt; <span class='message'> ...found 10 documents, 3,261 features</span></div><div class='output co'>#&gt; <span class='message'> ...</span></div><div class='output co'>#&gt; <span class='message'>removed 131 features</span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt; <span class='message'> ...stemming types (English)</span></div><div class='output co'>#&gt; <span class='message'> ...complete, elapsed time: 0.067 seconds.</span></div><div class='output co'>#&gt; <span class='message'>Finished constructing a 10 x 2,304 sparse dfm.</span></div><div class='output co'>#&gt; Document-feature matrix of: 10 documents, 2,304 features (75.1% sparse) and 4 docvars.
#&gt;               features
#&gt; docs           senat hatfield   , mr   . chief justic presid vice bush
#&gt;   1981-Reagan      2        1 174  3 130     1      1      6    2    1
#&gt;   1985-Reagan      4        0 177  0 124     1      1      3    1    1
#&gt;   1989-Bush        3        0 166  6 142     1      2      7    1    0
#&gt;   1993-Clinton     0        0 139  0  81     0      0      3    0    1
#&gt;   1997-Clinton     0        0 131  0 108     0      1      1    0    0
#&gt;   2001-Bush        0        0 110  0  96     0      3      3    1    0
#&gt; [ reached max_ndoc ... 4 more documents, reached max_nfeat ... 2,294 more features ]</div><div class='input'><span class='co'># works for both words in ngrams too</span>
<span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='st'>"Banking industry"</span>) <span class='op'>%&gt;%</span>
    <span class='fu'><a href='tokens_ngrams.html'>tokens_ngrams</a></span>(n = <span class='fl'>2</span>) <span class='op'>%&gt;%</span>
    <span class='fu'>dfm</span>(stem = <span class='fl'>TRUE</span>)
</div><div class='output co'>#&gt; Document-feature matrix of: 1 document, 1 feature (0.0% sparse).
#&gt;        features
#&gt; docs    bank_industri
#&gt;   text1             1</div><div class='input'>
<span class='co'># with dictionaries</span>
<span class='kw'>dict</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dictionary.html'>dictionary</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(christmas = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Christmas"</span>, <span class='st'>"Santa"</span>, <span class='st'>"holiday"</span>),
               opposition = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Opposition"</span>, <span class='st'>"reject"</span>, <span class='st'>"notincorpus"</span>),
               taxing = <span class='st'>"taxing"</span>,
               taxation = <span class='st'>"taxation"</span>,
               taxregex = <span class='st'>"tax*"</span>,
               country = <span class='st'>"states"</span>))
<span class='fu'>dfm</span>(<span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='kw'>data_corpus_inaugural</span>, <span class='kw'>Year</span> <span class='op'>&gt;</span> <span class='fl'>1900</span>), dictionary = <span class='kw'>dict</span>)
</div><div class='output co'>#&gt; Document-feature matrix of: 30 documents, 6 features (73.3% sparse) and 4 docvars.
#&gt;                 features
#&gt; docs             christmas opposition taxing taxation taxregex country
#&gt;   1901-McKinley          0          2      0        1        1       9
#&gt;   1905-Roosevelt         0          0      0        0        0       0
#&gt;   1909-Taft              0          1      0        4        6      12
#&gt;   1913-Wilson            0          0      0        1        1       0
#&gt;   1917-Wilson            0          0      0        0        0       2
#&gt;   1921-Harding           0          0      0        1        2       1
#&gt; [ reached max_ndoc ... 24 more documents ]</div><div class='input'>

<span class='co'># removing stopwords</span>
<span class='kw'>txt</span> <span class='op'>&lt;-</span> <span class='st'>"The quick brown fox named Seamus jumps over the lazy dog also named Seamus, with
             the newspaper from a boy named Seamus, in his mouth."</span>
<span class='kw'>corp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='corpus.html'>corpus</a></span>(<span class='kw'>txt</span>)
<span class='co'># note: "also" is not in the default stopwords("english")</span>
<span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='kw'>corp</span>, select = <span class='fu'><a href='https://rdrr.io/pkg/stopwords/man/stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>)))
</div><div class='output co'>#&gt; [1] "the"  "over" "with" "from" "a"    "in"   "his" </div><div class='input'><span class='co'># for ngrams</span>
<span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='kw'>corp</span>, ngrams = <span class='fl'>2</span>, select = <span class='fu'><a href='https://rdrr.io/pkg/stopwords/man/stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>), remove_punct = <span class='fl'>TRUE</span>))
</div><div class='output co'>#&gt; <span class='warning'>Warning: ngrams argument is not used.</span></div><div class='output co'>#&gt; [1] "the"  "over" "with" "from" "a"    "in"   "his" </div><div class='input'><span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='kw'>corp</span>, ngrams = <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>, select = <span class='fu'><a href='https://rdrr.io/pkg/stopwords/man/stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>), remove_punct = <span class='fl'>TRUE</span>))
</div><div class='output co'>#&gt; <span class='warning'>Warning: ngrams argument is not used.</span></div><div class='output co'>#&gt; [1] "the"  "over" "with" "from" "a"    "in"   "his" </div><div class='input'>
<span class='co'># removing stopwords before constructing ngrams</span>
<span class='kw'>toks1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='fu'><a href='char_tolower.html'>char_tolower</a></span>(<span class='kw'>txt</span>), remove_punct = <span class='fl'>TRUE</span>)
<span class='kw'>toks2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tokens_select.html'>tokens_remove</a></span>(<span class='kw'>toks1</span>, <span class='fu'><a href='https://rdrr.io/pkg/stopwords/man/stopwords.html'>stopwords</a></span>(<span class='st'>"english"</span>))
<span class='kw'>toks3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tokens_ngrams.html'>tokens_ngrams</a></span>(<span class='kw'>toks2</span>, <span class='fl'>2</span>)
<span class='fu'><a href='featnames.html'>featnames</a></span>(<span class='fu'>dfm</span>(<span class='kw'>toks3</span>))
</div><div class='output co'>#&gt;  [1] "quick_brown"      "brown_fox"        "fox_named"        "named_seamus"    
#&gt;  [5] "seamus_jumps"     "jumps_lazy"       "lazy_dog"         "dog_also"        
#&gt;  [9] "also_named"       "seamus_newspaper" "newspaper_boy"    "boy_named"       
#&gt; [13] "seamus_mouth"    </div><div class='input'>
<span class='co'># keep only certain words</span>
<span class='fu'>dfm</span>(<span class='kw'>corp</span>, select = <span class='st'>"*s"</span>)  <span class='co'># keep only words ending in "s"</span>
</div><div class='output co'>#&gt; Document-feature matrix of: 1 document, 3 features (0.0% sparse).
#&gt;        features
#&gt; docs    seamus jumps his
#&gt;   text1      3     1   1</div><div class='input'><span class='fu'>dfm</span>(<span class='kw'>corp</span>, select = <span class='st'>"s$"</span>, valuetype = <span class='st'>"regex"</span>)
</div><div class='output co'>#&gt; Document-feature matrix of: 1 document, 3 features (0.0% sparse).
#&gt;        features
#&gt; docs    seamus jumps his
#&gt;   text1      3     1   1</div><div class='input'>
<span class='co'># testing Twitter functions</span>
<span class='kw'>txttweets</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"My homie @justinbieber #justinbieber shopping in #LA yesterday #beliebers"</span>,
                <span class='st'>"2all the ha8ers including my bro #justinbieber #emabiggestfansjustinbieber"</span>,
                <span class='st'>"Justin Bieber #justinbieber #belieber #fetusjustin #EMABiggestFansJustinBieber"</span>)
<span class='fu'>dfm</span>(<span class='kw'>txttweets</span>, select = <span class='st'>"#*"</span>, split_tags = <span class='fl'>FALSE</span>)  <span class='co'># keep only hashtags</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: split_tags argument is not used.</span></div><div class='output co'>#&gt; Document-feature matrix of: 3 documents, 6 features (50.0% sparse).
#&gt;        features
#&gt; docs    #justinbieber #la #beliebers #emabiggestfansjustinbieber #belieber
#&gt;   text1             1   1          1                           0         0
#&gt;   text2             1   0          0                           1         0
#&gt;   text3             1   0          0                           1         1
#&gt;        features
#&gt; docs    #fetusjustin
#&gt;   text1            0
#&gt;   text2            0
#&gt;   text3            1</div><div class='input'><span class='fu'>dfm</span>(<span class='kw'>txttweets</span>, select = <span class='st'>"^#.*$"</span>, valuetype = <span class='st'>"regex"</span>, split_tags = <span class='fl'>FALSE</span>)
</div><div class='output co'>#&gt; <span class='warning'>Warning: split_tags argument is not used.</span></div><div class='output co'>#&gt; Document-feature matrix of: 3 documents, 6 features (50.0% sparse).
#&gt;        features
#&gt; docs    #justinbieber #la #beliebers #emabiggestfansjustinbieber #belieber
#&gt;   text1             1   1          1                           0         0
#&gt;   text2             1   0          0                           1         0
#&gt;   text3             1   0          0                           1         1
#&gt;        features
#&gt; docs    #fetusjustin
#&gt;   text1            0
#&gt;   text2            0
#&gt;   text3            1</div><div class='input'>
<span class='co'># for a dfm</span>
<span class='fu'>dfm</span>(<span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='kw'>data_corpus_inaugural</span>, <span class='kw'>Year</span> <span class='op'>&gt;</span> <span class='fl'>1980</span>), groups = <span class='st'>"Party"</span>)
</div><div class='output co'>#&gt; Document-feature matrix of: 2 documents, 3,261 features (33.9% sparse) and 1 docvar.
#&gt;             features
#&gt; docs         senator hatfield   , mr   . chief justice president vice bush
#&gt;   Democratic       0        0 499  1 396     1       3         6    1    2
#&gt;   Republican       8        1 843 10 678     5      14        26    6    4
#&gt; [ reached max_nfeat ... 3,251 more features ]</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng, Stefan Müller, Akitaka Matsuo, Jiong Wei Lua, Jouni Kuha, William Lowe, European Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '9b4ef7fd791dc6075154d3ebd7b12acf',
    indexName: 'quanteda',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


