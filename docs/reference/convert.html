<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert a dfm to a non-quanteda format — convert • quanteda</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>

<meta property="og:title" content="Convert a dfm to a non-quanteda format — convert" />
<meta property="og:description" content="Convert a quanteda dfm object to a format useable by other text
analysis packages.  The general function convert provides easy
conversion from a dfm to the document-term representations used in all other
text analysis packages for which conversions are defined." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144616-24"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-144616-24');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quanteda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Quick Start
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/quickstart.html">Quick Start Guide</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_es.html">Guía de Inicio Rápido</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_cn.html">快速入门指南</a>
    </li>
    <li>
      <a href="../articles/pkgdown/quickstart_ja.html">クイック・スタートガイド</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Features
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/comparison.html">Feature comparison</a>
    </li>
    <li>
      <a href="../articles/pkgdown/design.html">Package design</a>
    </li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/examples/phrase.html">Multi-word expressions</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/plotting.html">Textual data visualization</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/lsa.html">Latent Semantic Analysis (LSA)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/chinese.html">Chinese text analysis</a>
    </li>
    <li>
      <a href="../articles/pkgdown/examples/twitter.html">Social media analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Replications
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pkgdown/replication/digital-humanities.html">Text Analysis with R for Students of Literature</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/text2vec.html">Word embedding (word2vec)</a>
    </li>
    <li>
      <a href="../articles/pkgdown/replication/qss.html">Quantitative Social Science Ch. 5.1</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/quanteda/quanteda">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert a dfm to a non-quanteda format</h1>
    
    <div class="hidden name"><code>convert.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert a quanteda <a href='dfm.html'>dfm</a> object to a format useable by other text
analysis packages.  The general function <code>convert</code> provides easy
conversion from a dfm to the document-term representations used in all other
text analysis packages for which conversions are defined.</p>
    </div>

    <pre class="usage"><span class='fu'>convert</span>(
  <span class='no'>x</span>,
  <span class='kw'>to</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"lda"</span>, <span class='st'>"tm"</span>, <span class='st'>"stm"</span>, <span class='st'>"austin"</span>, <span class='st'>"topicmodels"</span>, <span class='st'>"lsa"</span>, <span class='st'>"matrix"</span>, <span class='st'>"data.frame"</span>,
    <span class='st'>"tripletlist"</span>),
  <span class='kw'>docvars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>omit_empty</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a <a href='dfm.html'>dfm</a> to be converted</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>target conversion format, consisting of the name of the package 
into whose document-term matrix representation the dfm will be converted:</p><dl class='dl-horizontal'>
<dt><code>"lda"</code></dt><dd><p>a list with components "documents" and 
"vocab" as needed by the function <a href='https://rdrr.io/pkg/lda/man/lda.collapsed.gibbs.sampler.html'>lda.collapsed.gibbs.sampler</a> from the 
<span class="pkg">lda</span> package</p></dd> <dt><code>"tm"</code></dt><dd><p>a <a href='https://rdrr.io/pkg/tm/man/matrix.html'>DocumentTermMatrix</a> from 
the <span class="pkg">tm</span> package</p></dd> <dt><code>"stm"</code></dt><dd><p>the  format for the <span class="pkg">stm</span> 
package</p></dd> <dt><code>"austin"</code></dt><dd><p>the <code>wfm</code> format from the 
<strong>austin</strong> package</p></dd> <dt><code>"topicmodels"</code></dt><dd><p>the "dtm" format as 
used by the <span class="pkg">topicmodels</span> package</p></dd> 
<dt><code>"lsa"</code></dt><dd><p>the "textmatrix" format as 
used by the <span class="pkg">lsa</span> package</p></dd>
<dt><code>"data.frame"</code></dt><dd><p>a data.frame where each feature is a variable</p></dd> 
<dt><code>"tripletlist"</code></dt><dd><p>a named "triplet" format list consisting of 
<code>document</code>, <code>feature</code>, and <code>frequency</code></p></dd> 

</dl></td>
    </tr>
    <tr>
      <th>docvars</th>
      <td><p>optional data.frame of document variables used as the
<code>meta</code> information in conversion to the <span class="pkg">stm</span> package format.
This aids in selecting the document variables only corresponding to the
documents with non-zero counts.  Only affects the "stm" format.</p></td>
    </tr>
    <tr>
      <th>omit_empty</th>
      <td><p>logical; if <code>TRUE</code>, omit empty documents and features
from the converted dfm. This is required for some formats (such as STM)
that do not accept empty documents.  Only used when <code>to = "lda"</code> or
<code>to = "topicmodels"</code>.  For <code>to = "stm"</code> format, `omit_empty`` is
always <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A converted object determined by the value of <code>to</code> (see above). 
  See conversion target package documentation for more detailed descriptions 
  of the return formats.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>corp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='corpus_subset.html'>corpus_subset</a></span>(<span class='no'>data_corpus_inaugural</span>, <span class='no'>Year</span> <span class='kw'>&gt;</span> <span class='fl'>1970</span>)
<span class='no'>dfmat1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dfm.html'>dfm</a></span>(<span class='no'>corp</span>)

<span class='co'># austin's wfm format</span>
<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span>(<span class='no'>dfmat1</span>), <span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span>(<span class='fu'>convert</span>(<span class='no'>dfmat1</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"austin"</span>)))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'># stm package format</span>
<span class='no'>stmmat</span> <span class='kw'>&lt;-</span> <span class='fu'>convert</span>(<span class='no'>dfmat1</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"stm"</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>stmmat</span>)</div><div class='output co'>#&gt; List of 3
#&gt;  $ documents:List of 12
#&gt;   ..$ 1973-Nixon  : int [1:2, 1:515] 1 34 2 96 3 1 4 5 6 3 ...
#&gt;   ..$ 1977-Carter : int [1:2, 1:501] 1 18 2 65 3 7 4 4 7 52 ...
#&gt;   ..$ 1981-Reagan : int [1:2, 1:850] 1 19 2 174 3 7 4 3 6 5 ...
#&gt;   ..$ 1985-Reagan : int [1:2, 1:876] 1 24 2 177 3 13 4 7 6 3 ...
#&gt;   ..$ 1989-Bush   : int [1:2, 1:756] 1 15 2 166 3 14 4 16 6 5 ...
#&gt;   ..$ 1993-Clinton: int [1:2, 1:605] 2 139 3 6 4 5 7 81 9 4 ...
#&gt;   ..$ 1997-Clinton: int [1:2, 1:726] 1 26 2 131 3 13 4 7 6 3 ...
#&gt;   ..$ 2001-Bush   : int [1:2, 1:592] 1 4 2 110 3 4 4 7 6 1 ...
#&gt;   ..$ 2005-Bush   : int [1:2, 1:735] 1 2 2 120 3 3 4 8 6 2 ...
#&gt;   ..$ 2009-Obama  : int [1:2, 1:900] 1 44 2 130 3 22 4 4 5 1 ...
#&gt;   ..$ 2013-Obama  : int [1:2, 1:786] 1 13 2 99 3 14 4 5 7 89 ...
#&gt;   ..$ 2017-Trump  : int [1:2, 1:547] 1 11 2 96 3 9 4 8 7 88 ...
#&gt;  $ vocab    : chr [1:3462] "-" "," ";" ":" ...
#&gt;  $ meta     :'data.frame':	12 obs. of  3 variables:
#&gt;   ..$ Year     : num [1:12] 1973 1977 1981 1985 1989 ...
#&gt;   ..$ President: chr [1:12] "Nixon" "Carter" "Reagan" "Reagan" ...
#&gt;   ..$ FirstName: chr [1:12] "Richard Milhous" "Jimmy" "Ronald" "Ronald" ...</div><div class='input'>
<span class='co'>#' # triplet</span>
<span class='no'>tripletmat</span> <span class='kw'>&lt;-</span> <span class='fu'>convert</span>(<span class='no'>dfmat1</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"tripletlist"</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>tripletmat</span>)</div><div class='output co'>#&gt; List of 3
#&gt;  $ document : chr [1:8389] "1973-Nixon" "1981-Reagan" "1989-Bush" "2005-Bush" ...
#&gt;  $ feature  : chr [1:8389] "mr" "mr" "mr" "mr" ...
#&gt;  $ frequency: num [1:8389] 3 3 6 1 1 69 52 130 124 142 ...</div><div class='input'>
<span class='co'># illustrate what happens with zero-length documents</span>
<span class='no'>dfmat2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dfm.html'>dfm</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>punctOnly</span> <span class='kw'>=</span> <span class='st'>"!!!"</span>, <span class='no'>corp</span>[-<span class='fl'>1</span>]))
<span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>rowSums</a></span>(<span class='no'>dfmat2</span>)</div><div class='output co'>#&gt;    punctOnly  1977-Carter  1981-Reagan  1985-Reagan    1989-Bush 1993-Clinton 
#&gt;            3         1376         2790         2921         2681         1833 
#&gt; 1997-Clinton    2001-Bush    2005-Bush   2009-Obama   2013-Obama   2017-Trump 
#&gt;         2449         1808         2319         2711         2317         1660 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>convert</span>(<span class='no'>dfmat2</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"stm"</span>, <span class='kw'>docvars</span> <span class='kw'>=</span> <span class='fu'><a href='docvars.html'>docvars</a></span>(<span class='no'>corp</span>)))</div><div class='output co'>#&gt; List of 3
#&gt;  $ documents:List of 12
#&gt;   ..$ punctOnly   : int [1:2, 1] 5 3
#&gt;   ..$ 1977-Carter : int [1:2, 1:501] 1 18 2 65 3 7 4 4 7 52 ...
#&gt;   ..$ 1981-Reagan : int [1:2, 1:850] 1 19 2 174 3 7 4 3 6 5 ...
#&gt;   ..$ 1985-Reagan : int [1:2, 1:876] 1 24 2 177 3 13 4 7 6 3 ...
#&gt;   ..$ 1989-Bush   : int [1:2, 1:756] 1 15 2 166 3 14 4 16 6 5 ...
#&gt;   ..$ 1993-Clinton: int [1:2, 1:605] 2 139 3 6 4 5 7 81 9 4 ...
#&gt;   ..$ 1997-Clinton: int [1:2, 1:726] 1 26 2 131 3 13 4 7 6 3 ...
#&gt;   ..$ 2001-Bush   : int [1:2, 1:592] 1 4 2 110 3 4 4 7 6 1 ...
#&gt;   ..$ 2005-Bush   : int [1:2, 1:735] 1 2 2 120 3 3 4 8 6 2 ...
#&gt;   ..$ 2009-Obama  : int [1:2, 1:900] 1 44 2 130 3 22 4 4 5 1 ...
#&gt;   ..$ 2013-Obama  : int [1:2, 1:786] 1 13 2 99 3 14 4 5 7 89 ...
#&gt;   ..$ 2017-Trump  : int [1:2, 1:547] 1 11 2 96 3 9 4 8 7 88 ...
#&gt;  $ vocab    : chr [1:3376] "-" "," ";" ":" ...
#&gt;  $ meta     :'data.frame':	12 obs. of  3 variables:
#&gt;   ..$ Year     : num [1:12] 1973 1977 1981 1985 1989 ...
#&gt;   ..$ President: chr [1:12] "Nixon" "Carter" "Reagan" "Reagan" ...
#&gt;   ..$ FirstName: chr [1:12] "Richard Milhous" "Jimmy" "Ronald" "Ronald" ...</div><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># tm's DocumentTermMatrix format</span>
<span class='no'>tmdfm</span> <span class='kw'>&lt;-</span> <span class='fu'>convert</span>(<span class='no'>dfmat1</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"tm"</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>tmdfm</span>)

<span class='co'># topicmodels package format</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>convert</span>(<span class='no'>dfmat1</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"topicmodels"</span>))

<span class='co'># lda package format</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>convert</span>(<span class='no'>dfmat1</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='st'>"lda"</span>))

}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng, Stefan Müller, Akitaka Matsuo, Jiong Wei Lua, Patrick O. Perry, Jouni Kuha, Benjamin Lauderdale, William Lowe, European Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '9b4ef7fd791dc6075154d3ebd7b12acf',
    indexName: 'quanteda',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


