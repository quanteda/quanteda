<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>recompile a hashed tokens object — tokens_recompile • quanteda</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">quanteda</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>recompile a hashed tokens object</h1>
    </div>

    
    <p>This function recompiles a hashed tokens object when the vocabulary has been
changed in a way that makes some of its types identical, such as lowercasing
when a lowercased version of the type already exists in the hash table, or
introduces gaps in the integer map of the types.  It also reindexes the types
atttribute to account for types that may have become duplicates, through a
procedure such as stemming or lowercasing; or the addition of new tokens
through compounding.</p>
    

    <pre class="usage"><span class='fu'>tokens_recompile</span>(<span class='no'>x</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"C++"</span>, <span class='st'>"R"</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>the <a href='tokens.html'>tokens</a> object to be recompiled</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p><code>"C++"</code> for C++ implementation or <code>"R"</code> for an older
R-based method</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># lowercasing</span>
<span class='no'>toks1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='fu'>c</span>(<span class='kw'>one</span> <span class='kw'>=</span> <span class='st'>"a b c d A B C D"</span>,
                 <span class='kw'>two</span> <span class='kw'>=</span> <span class='st'>"A B C d"</span>))
<span class='fu'>attr</span>(<span class='no'>toks1</span>, <span class='st'>"types"</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='char_tolower.html'>char_tolower</a></span>(<span class='fu'>attr</span>(<span class='no'>toks1</span>, <span class='st'>"types"</span>))
<span class='fu'>unclass</span>(<span class='no'>toks1</span>)</div><div class='output co'>#&gt; $one
#&gt; [1] 1 2 3 4 5 6 7 8
#&gt; 
#&gt; $two
#&gt; [1] 5 6 7 4
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "a" "b" "c" "d" "a" "b" "c" "d"
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 2 rows</div><div class='input'><span class='fu'>unclass</span>(<span class='kw'>quanteda</span><span class='kw'>:::</span><span class='fu'>tokens_recompile</span>(<span class='no'>toks1</span>))</div><div class='output co'>#&gt; $one
#&gt; [1] 1 2 3 4 1 2 3 4
#&gt; 
#&gt; $two
#&gt; [1] 1 2 3 4
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "a" "b" "c" "d"
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 2 rows</div><div class='input'>
<span class='co'># stemming</span>
<span class='no'>toks2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='st'>"Stemming stemmed many word stems."</span>)
<span class='fu'>unclass</span>(<span class='no'>toks2</span>)</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 2 3 4 5 6
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "Stemming" "stemmed"  "many"     "word"     "stems"    "."       
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'><span class='fu'>unclass</span>(<span class='kw'>quanteda</span><span class='kw'>:::</span><span class='fu'>tokens_recompile</span>(<span class='fu'><a href='tokens_wordstem.html'>tokens_wordstem</a></span>(<span class='no'>toks2</span>)))</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 2 3 4 2 5
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "Stem" "stem" "mani" "word" "."   
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'>
<span class='co'># compounding</span>
<span class='no'>toks3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='st'>"One two three four."</span>)
<span class='fu'>unclass</span>(<span class='no'>toks3</span>)</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 2 3 4 5
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "One"   "two"   "three" "four"  "."    
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'><span class='fu'>unclass</span>(<span class='fu'><a href='tokens_compound.html'>tokens_compound</a></span>(<span class='no'>toks3</span>, <span class='st'>"two three"</span>))</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 2 3 4 5
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "One"   "two"   "three" "four"  "."    
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'>
<span class='co'># lookup</span>
<span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dictionary.html'>dictionary</a></span>(<span class='fu'>list</span>(<span class='kw'>test</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"one"</span>, <span class='st'>"three"</span>)))
<span class='fu'>unclass</span>(<span class='fu'><a href='tokens_lookup.html'>tokens_lookup</a></span>(<span class='no'>toks3</span>, <span class='no'>dict</span>))</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 1
#&gt; 
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"types")
#&gt; [1] "test"
#&gt; attr(,"what")
#&gt; [1] "dictionary"
#&gt; attr(,"dictionary")
#&gt; attr(,"dictionary")$test
#&gt; [1] "one"   "three"
#&gt; 
#&gt; attr(,"dictionary")attr(,"concatenator")
#&gt; [1] " "
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'>
<span class='co'># empty pads</span>
<span class='fu'>unclass</span>(<span class='fu'><a href='tokens_select.html'>tokens_select</a></span>(<span class='no'>toks3</span>, <span class='no'>dict</span>))</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 2
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "One"   "three"
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'><span class='fu'>unclass</span>(<span class='fu'><a href='tokens_select.html'>tokens_select</a></span>(<span class='no'>toks3</span>, <span class='no'>dict</span>, <span class='kw'>pad</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 0 2 0 0
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "One"   "three"
#&gt; attr(,"padding")
#&gt; [1] TRUE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 1
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'>
<span class='co'># ngrams</span>
<span class='fu'>unclass</span>(<span class='fu'><a href='tokens_ngrams.html'>tokens_ngrams</a></span>(<span class='no'>toks3</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>:<span class='fl'>3</span>))</div><div class='output co'>#&gt; $text1
#&gt; [1] 1 2 3 4 5 6 7
#&gt; 
#&gt; attr(,"types")
#&gt; [1] "One_two"        "two_three"      "three_four"     "four_."        
#&gt; [5] "One_two_three"  "two_three_four" "three_four_."  
#&gt; attr(,"padding")
#&gt; [1] FALSE
#&gt; attr(,"what")
#&gt; [1] "word"
#&gt; attr(,"ngrams")
#&gt; [1] 2 3
#&gt; attr(,"skip")
#&gt; [1] 0
#&gt; attr(,"concatenator")
#&gt; [1] "_"
#&gt; attr(,"docvars")
#&gt; data frame with 0 columns and 1 row</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Kenneth Benoit and Kohei Watanabe

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
