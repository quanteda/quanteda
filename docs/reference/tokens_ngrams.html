<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>create ngrams and skipgrams from tokens — tokens_ngrams • quanteda</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">quanteda</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>create ngrams and skipgrams from tokens</h1>
    </div>

    
    <p>Create a set of ngrams (tokens in sequence) from already tokenized text
objects, with an optional skip argument to form skipgrams. Both the ngram
length and the skip lengths take vectors of arguments to form multiple
lengths or skips in one pass.  Implemented in C++ for efficiency.</p>
    

    <pre class="usage"><span class='fu'>tokens_ngrams</span>(<span class='no'>x</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2L</span>, <span class='kw'>skip</span> <span class='kw'>=</span> <span class='fl'>0L</span>, <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>"_"</span>)

<span class='fu'>char_ngrams</span>(<span class='no'>x</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2L</span>, <span class='kw'>skip</span> <span class='kw'>=</span> <span class='fl'>0L</span>, <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>"_"</span>)

<span class='fu'>tokens_skipgrams</span>(<span class='no'>x</span>, <span class='no'>n</span>, <span class='no'>skip</span>, <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>"_"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a tokens object, or a character vector, or a list of characters</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>integer vector specifying the number of elements to be concatenated 
in each ngram.  Each element of this vector will define a $n$ in the 
$n$-gram(s) that are produced.</p></td>
    </tr>
    <tr>
      <th>skip</th>
      <td><p>integer vector specifying the adjacency skip size for tokens 
forming the ngrams, default is 0 for only immediately neighbouring words. 
For <code>skipgrams</code>, <code>skip</code> can be a vector of integers, as the 
"classic" approach to forming skip-grams is to set skip = \(k\) where 
\(k\) is the distance for which \(k\) or fewer skips are used to 
construct the \(n\)-gram.  Thus a "4-skip-n-gram" defined as <code>skip =
0:4</code> produces results that include 4 skips, 3 skips, 2 skips, 1 skip, and 0
skips (where 0 skips are typical n-grams formed from adjacent words).  See 
Guthrie et al (2006).</p></td>
    </tr>
    <tr>
      <th>concatenator</th>
      <td><p>character for combining words, default is <code>_</code> 
(underscore) character</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a tokens object consisting a list of character vectors of ngrams, one
  list element per text, or a character vector if called on a simple
  character vector</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Normally, these functions will be called through 
  <code><a href='tokens.html'>tokens</a>(x, ngrams = , ...)</code>, but these functions are provided 
  in case a user wants to perform lower-level ngram construction on tokenized
  texts.
    <code>tokens_skipgrams</code> is a wrapper to <code><a href='ngrams.html'>ngrams</a></code> that requires 
  arguments to be supplied for both <code>n</code> and <code>skip</code>.  For
  \(k\)-skip skipgrams, set <code>skip</code> to <code>0:</code>\(k\), in order to
  conform to the definition of skip-grams found in Guthrie et al (2006): A
  \(k\) skip-gram is an ngram which is a superset of all ngrams and each
  \((k-i)\) skipgram until \((k-i)==0\) (which includes 0 skip-grams).</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p><code>char_ngrams</code> is a convenience wrapper for a (non-list) 
  vector of characters, so named to be consistent with <span class="pkg">quanteda</span>'s naming
  scheme.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href = 'http://homepages.inf.ed.ac.uk/ballison/pdf/lrec_skipgrams.pdf'>Guthrie,
D., B. Allison, W. Liu, and L. Guthrie. 2006. "A Closer Look at Skip-Gram 
Modelling."</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># ngrams</span>
<span class='fu'>tokens_ngrams</span>(<span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='fu'>c</span>(<span class='st'>"a b c d e"</span>, <span class='st'>"c d e f g"</span>)), <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>:<span class='fl'>3</span>)</div><div class='output co'>#&gt; tokens from 2 documents.
#&gt; Component 1 :
#&gt; [1] "a_b"   "b_c"   "c_d"   "d_e"   "a_b_c" "b_c_d" "c_d_e"
#&gt; 
#&gt; Component 2 :
#&gt; [1] "c_d"   "d_e"   "e_f"   "f_g"   "c_d_e" "d_e_f" "e_f_g"
#&gt; </div><div class='input'>
<span class='no'>toks</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='fu'>c</span>(<span class='kw'>text1</span> <span class='kw'>=</span> <span class='st'>"the quick brown fox jumped over the lazy dog"</span>))
<span class='fu'>tokens_ngrams</span>(<span class='no'>toks</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>3</span>)</div><div class='output co'>#&gt; tokens from 1 document.
#&gt; text1 :
#&gt;  [1] "the"              "quick"            "brown"            "fox"             
#&gt;  [5] "jumped"           "over"             "the"              "lazy"            
#&gt;  [9] "dog"              "the_quick"        "quick_brown"      "brown_fox"       
#&gt; [13] "fox_jumped"       "jumped_over"      "over_the"         "the_lazy"        
#&gt; [17] "lazy_dog"         "the_quick_brown"  "quick_brown_fox"  "brown_fox_jumped"
#&gt; [21] "fox_jumped_over"  "jumped_over_the"  "over_the_lazy"    "the_lazy_dog"    
#&gt; </div><div class='input'><span class='fu'>tokens_ngrams</span>(<span class='no'>toks</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>2</span>,<span class='fl'>4</span>), <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>" "</span>)</div><div class='output co'>#&gt; tokens from 1 document.
#&gt; text1 :
#&gt;  [1] "the quick"              "quick brown"            "brown fox"             
#&gt;  [4] "fox jumped"             "jumped over"            "over the"              
#&gt;  [7] "the lazy"               "lazy dog"               "the quick brown fox"   
#&gt; [10] "quick brown fox jumped" "brown fox jumped over"  "fox jumped over the"   
#&gt; [13] "jumped over the lazy"   "over the lazy dog"     
#&gt; </div><div class='input'><span class='fu'>tokens_ngrams</span>(<span class='no'>toks</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>2</span>,<span class='fl'>4</span>), <span class='kw'>skip</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>" "</span>)</div><div class='output co'>#&gt; tokens from 1 document.
#&gt; text1 :
#&gt;  [1] "the brown"            "quick fox"            "brown jumped"        
#&gt;  [4] "fox over"             "jumped the"           "over lazy"           
#&gt;  [7] "the dog"              "the brown jumped the" "quick fox over lazy" 
#&gt; [10] "brown jumped the dog"
#&gt; </div><div class='input'>
<span class='co'># on character</span>
<span class='fu'>char_ngrams</span>(<span class='no'>letters</span>[<span class='fl'>1</span>:<span class='fl'>3</span>], <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>3</span>)</div><div class='output co'>#&gt; [1] "a"     "b"     "c"     "a_b"   "b_c"   "a_b_c"</div><div class='input'>
<span class='co'># skipgrams</span>
<span class='no'>toks</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='tokens.html'>tokens</a></span>(<span class='st'>"insurgents killed in ongoing fighting"</span>)
<span class='fu'>tokens_skipgrams</span>(<span class='no'>toks</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>skip</span> <span class='kw'>=</span> <span class='fl'>0</span>:<span class='fl'>1</span>, <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>" "</span>)</div><div class='output co'>#&gt; tokens from 1 document.
#&gt; Component 1 :
#&gt; [1] "insurgents killed" "insurgents in"     "killed in"        
#&gt; [4] "killed ongoing"    "in ongoing"        "in fighting"      
#&gt; [7] "ongoing fighting" 
#&gt; </div><div class='input'><span class='fu'>tokens_skipgrams</span>(<span class='no'>toks</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>skip</span> <span class='kw'>=</span> <span class='fl'>0</span>:<span class='fl'>2</span>, <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>" "</span>)</div><div class='output co'>#&gt; tokens from 1 document.
#&gt; Component 1 :
#&gt; [1] "insurgents killed"  "insurgents in"      "insurgents ongoing"
#&gt; [4] "killed in"          "killed ongoing"     "killed fighting"   
#&gt; [7] "in ongoing"         "in fighting"        "ongoing fighting"  
#&gt; </div><div class='input'><span class='fu'>tokens_skipgrams</span>(<span class='no'>toks</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>skip</span> <span class='kw'>=</span> <span class='fl'>0</span>:<span class='fl'>2</span>, <span class='kw'>concatenator</span> <span class='kw'>=</span> <span class='st'>" "</span>)</div><div class='output co'>#&gt; tokens from 1 document.
#&gt; Component 1 :
#&gt;  [1] "insurgents killed in"        "insurgents killed ongoing"  
#&gt;  [3] "insurgents killed fighting"  "insurgents in ongoing"      
#&gt;  [5] "insurgents in fighting"      "insurgents ongoing fighting"
#&gt;  [7] "killed in ongoing"           "killed in fighting"         
#&gt;  [9] "killed ongoing fighting"     "in ongoing fighting"        
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Kohei Watanabe (C++) and Ken Benoit (R)

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
